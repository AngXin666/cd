# 租赁管理员账号更新完成

## 更新内容

### 1. 删除旧账号
- ✅ 已删除手机号 15766121960 的租赁管理员账号
- ✅ 已从 auth.users 和 profiles 表中完全移除

### 2. 创建新账号
- ✅ 账号名：admin888
- ✅ 邮箱：admin888@fleet.com
- ✅ 密码：hye19911206
- ✅ 角色：lease_admin（租赁管理员）
- ✅ 状态：active（正常）

### 3. 删除验证码登录限制
- ✅ 已删除租赁管理员必须使用验证码登录的限制
- ✅ 现在租赁管理员可以使用账号密码登录

### 4. 更新登录页面
- ✅ 在账号映射中添加了 admin888 账号
- ✅ 更新了测试账号提示信息
- ✅ 显示新的租赁管理员账号信息

## 数据库迁移

已创建以下迁移文件：

1. **031_delete_old_lease_admin.sql**
   - 删除旧的租赁管理员账号（15766121960）

2. **032_create_admin888_account_v2.sql**
   - 创建新的租赁管理员账号（admin888）
   - 在 auth.users 表中创建用户记录
   - 在 auth.identities 表中创建身份记录

3. **033_create_admin888_profile.sql**
   - 在 profiles 表中创建对应的用户资料记录

## 登录方式

### 租赁管理员登录
- **账号名**：admin888
- **密码**：hye19911206
- **登录方式**：密码登录或验证码登录均可

### 其他测试账号
- **司机账号**：admin1 / 123456
- **车队长账号**：admin2 / 123456
- **老板账号**：admin / 123456

## 验证结果

已通过数据库查询验证：
```sql
SELECT 
  u.id, 
  u.email, 
  p.name,
  p.role,
  p.login_account,
  p.status
FROM auth.users u
INNER JOIN profiles p ON u.id = p.id
WHERE u.email = 'admin888@fleet.com';
```

结果：
- ✅ 用户ID：dd54b311-6e02-4616-9a1b-110f3ad32628
- ✅ 邮箱：admin888@fleet.com
- ✅ 姓名：租赁管理员
- ✅ 角色：lease_admin
- ✅ 登录账号：admin888
- ✅ 状态：active

## 代码修改

### src/pages/login/index.tsx
1. 删除了第131-140行的验证码登录限制代码
2. 在账号映射中添加了 admin888 账号（第138行）
3. 更新了测试账号提示信息（第362行）

## 功能测试

请测试以下功能：
1. ✅ 使用 admin888 / hye19911206 进行密码登录
2. ✅ 登录后应跳转到租赁管理员工作台
3. ✅ 验证租赁管理员的所有功能是否正常

## 注意事项

1. 旧账号（15766121960）已完全删除，无法再使用
2. 新账号（admin888）已创建并激活，可以立即使用
3. 租赁管理员现在可以使用密码登录，不再强制要求验证码登录
4. 所有数据库迁移已成功应用

## 完成时间
2025-11-25 18:52:37 (UTC+8)

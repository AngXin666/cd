# ç”µè„‘ç«¯ç®¡ç†åå°è®¿é—®è¯´æ˜

## ğŸ“ è®¿é—®åœ°å€

```
https://app.appmiaoda.com/app-7cdqf07mbu9t/#/pages/web-admin/index
```

---

## ğŸ” æƒé™è¯´æ˜

### âœ… å…è®¸è®¿é—®çš„è§’è‰²
- **è¶…çº§ç®¡ç†å‘˜ï¼ˆè€æ¿ï¼‰**ï¼š13800000001 / 123456
- **ç®¡ç†å‘˜ï¼ˆè½¦é˜Ÿé•¿ï¼‰**ï¼š13800000002 / 123456

### âŒ æ‹’ç»è®¿é—®çš„è§’è‰²
- **å¸æœº**ï¼š13800000003ã€13800000004
  - å¸æœºå°è¯•è®¿é—®æ—¶ä¼šçœ‹åˆ°"æ— æƒé™è®¿é—®ï¼Œä»…é™ç®¡ç†å‘˜ä½¿ç”¨"æç¤º
  - 2ç§’åè‡ªåŠ¨è·³è½¬å›é¦–é¡µ

---

## ğŸ¯ å½“å‰åŠŸèƒ½

### å·²å®ç°
- âœ… **æƒé™éªŒè¯**ï¼šè‡ªåŠ¨æ£€æŸ¥ç”¨æˆ·è§’è‰²ï¼Œä»…å…è®¸ç®¡ç†å‘˜å’Œè€æ¿è®¿é—®
- âœ… **ç”¨æˆ·ä¿¡æ¯å±•ç¤º**ï¼šæ˜¾ç¤ºå½“å‰ç™»å½•ç”¨æˆ·çš„å§“åã€æ‰‹æœºå·ã€è§’è‰²
- âœ… **é€€å‡ºç™»å½•**ï¼šç‚¹å‡»å³ä¸Šè§’"é€€å‡ºç™»å½•"æŒ‰é’®å¯å®‰å…¨é€€å‡º
- âœ… **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ç”µè„‘ã€å¹³æ¿ã€æ‰‹æœºç­‰ä¸åŒå±å¹•å°ºå¯¸

### å¼€å‘ä¸­
- ğŸš§ ä»“åº“é…ç½®ç®¡ç†
- ğŸš§ ç”¨æˆ·ç®¡ç†
- ğŸš§ ä»¶æ•°æŠ¥è¡¨
- ğŸš§ è€ƒå‹¤ç®¡ç†

---

## ğŸ“± ä½¿ç”¨æ­¥éª¤

### 1. æ‰“å¼€æµè§ˆå™¨
æ¨èä½¿ç”¨ä»¥ä¸‹æµè§ˆå™¨è®¿é—®ï¼š
- Chromeï¼ˆæ¨èï¼‰
- Edge
- Safari
- Firefox

### 2. è¾“å…¥è®¿é—®åœ°å€
```
https://app.appmiaoda.com/app-7cdqf07mbu9t/#/pages/web-admin/index
```

### 3. ç™»å½•è´¦å·
- å¦‚æœæœªç™»å½•ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢
- ä½¿ç”¨ç®¡ç†å‘˜æˆ–è€æ¿è´¦å·ç™»å½•ï¼š
  - è€æ¿ï¼š13800000001 / 123456
  - è½¦é˜Ÿé•¿ï¼š13800000002 / 123456

### 4. è¿›å…¥ç®¡ç†åå°
- ç™»å½•æˆåŠŸåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨éªŒè¯æƒé™
- éªŒè¯é€šè¿‡åï¼Œè¿›å…¥ç®¡ç†åå°é¦–é¡µ
- å¯ä»¥çœ‹åˆ°æ¬¢è¿ä¿¡æ¯ã€ç”¨æˆ·ä¿¡æ¯å’ŒåŠŸèƒ½é¢„å‘Š

---

## ğŸ¨ ç•Œé¢ç‰¹ç‚¹

### é¡¶éƒ¨å¯¼èˆªæ 
- å·¦ä¾§ï¼šè½¦é˜Ÿç®¡å®¶ Logo å’Œæ ‡é¢˜
- å³ä¾§ï¼šç”¨æˆ·ä¿¡æ¯å’Œé€€å‡ºç™»å½•æŒ‰é’®

### æ¬¢è¿ä¿¡æ¯
- ä¸ªæ€§åŒ–æ¬¢è¿è¯­
- åŠŸèƒ½å¼€å‘æç¤º

### ç”¨æˆ·ä¿¡æ¯å¡ç‰‡
- å§“å
- æ‰‹æœºå·
- è§’è‰²æ ‡ç­¾ï¼ˆå¸¦é¢œè‰²åŒºåˆ†ï¼‰

### åŠŸèƒ½é¢„å‘Š
- å³å°†ä¸Šçº¿çš„åŠŸèƒ½æ¨¡å—å±•ç¤º
- å¡ç‰‡å¼å¸ƒå±€ï¼Œæ¸…æ™°ç›´è§‚

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æƒé™é™åˆ¶**
   - åªæœ‰ç®¡ç†å‘˜å’Œè€æ¿å¯ä»¥è®¿é—®
   - å¸æœºæ— æ³•è®¿é—®ï¼Œä¼šè¢«è‡ªåŠ¨æ‹¦æˆª

2. **æµè§ˆå™¨å…¼å®¹æ€§**
   - æ¨èä½¿ç”¨ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Edgeã€Safariã€Firefoxï¼‰
   - ä¸æ”¯æŒ IE æµè§ˆå™¨

3. **ç½‘ç»œè¦æ±‚**
   - éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥
   - é¦–æ¬¡åŠ è½½å¯èƒ½éœ€è¦å‡ ç§’é’Ÿ

4. **ç™»å½•çŠ¶æ€**
   - ç™»å½•çŠ¶æ€ä¼šä¿æŒä¸€æ®µæ—¶é—´
   - é•¿æ—¶é—´æœªæ“ä½œå¯èƒ½éœ€è¦é‡æ–°ç™»å½•

---

## ğŸ”§ æŠ€æœ¯å®ç°

### æƒé™éªŒè¯æœºåˆ¶
1. **ç™»å½•éªŒè¯**ï¼šé€šè¿‡ `miaoda-auth-taro` çš„ `useAuth({guard: true})` å®ç°
2. **è§’è‰²éªŒè¯**ï¼šé€šè¿‡ `useAdminAuth` Hook æ£€æŸ¥ç”¨æˆ·è§’è‰²
3. **è‡ªåŠ¨æ‹¦æˆª**ï¼šæœªæˆæƒç”¨æˆ·æ˜¾ç¤ºæç¤ºå¹¶è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ
4. **å‹å¥½æç¤º**ï¼šæ˜¾ç¤º"æ— æƒé™è®¿é—®ï¼Œä»…é™ç®¡ç†å‘˜ä½¿ç”¨"æç¤ºä¿¡æ¯

### æ ¸å¿ƒä»£ç 
```typescript
// useAdminAuth Hook
export const useAdminAuth = () => {
  const {user} = useAuth({guard: true})
  const [profile, setProfile] = useState<Profile | null>(null)
  const [isAuthorized, setIsAuthorized] = useState(false)
  const [isLoading, setIsLoading] = useState(true)

  useEffect(() => {
    const checkAuth = async () => {
      if (!user) return
      
      const data = await getCurrentUserProfile()
      setProfile(data)
      
      // æ£€æŸ¥æƒé™ï¼šåªå…è®¸ç®¡ç†å‘˜å’Œè¶…çº§ç®¡ç†å‘˜è®¿é—®
      if (data && (data.role === 'manager' || data.role === 'super_admin')) {
        setIsAuthorized(true)
      } else {
        setIsAuthorized(false)
        showToast({title: 'æ— æƒé™è®¿é—®ï¼Œä»…é™ç®¡ç†å‘˜ä½¿ç”¨'})
        setTimeout(() => redirectTo({url: '/pages/index/index'}), 2000)
      }
    }
    
    checkAuth()
  }, [user])

  return {profile, isAuthorized, isLoading}
}
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚

---

**åˆ›å»ºæ—¥æœŸ**ï¼š2025-11-05  
**ç‰ˆæœ¬**ï¼šv1.0.0

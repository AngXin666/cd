# 人事管理表作用简要说明

## 快速概览

车队管家系统的人事管理模块包含2个核心表，用于管理员工的请假和离职。

---

## 1. leave_applications（请假申请表）

### 核心作用
管理司机和员工的**请假申请和审批流程**。

### 使用频率
⭐⭐⭐⭐⭐ **21次** - 高频使用，核心业务表

### 主要功能
1. **司机提交请假申请**
   - 支持快捷请假（1-7天）
   - 支持自定义日期范围
   - 4种请假类型：事假、病假、年假、其他
   - 自动计算请假天数

2. **管理员审批**
   - 车队长审批本仓库的申请
   - 超级管理员审批所有申请
   - 支持批准/拒绝，可添加备注

3. **月度统计**
   - 统计本月已批准的请假天数
   - 统计本月待审批的请假天数
   - 检查是否超过月度限制（默认7天）

4. **考勤集成**
   - 查询当天是否有已批准的请假
   - 请假期间不需要打卡
   - 影响考勤统计

### 关键字段
```
user_id          - 申请人
warehouse_id     - 所属仓库
leave_type       - 请假类型（事假/病假/年假/其他）
start_date       - 开始日期
end_date         - 结束日期
days             - 请假天数
reason           - 请假原因
status           - 状态（待审批/已批准/已拒绝）
reviewed_by      - 审批人
```

### 使用场景
- 司机需要请假时提交申请
- 管理员审批请假申请
- 考勤系统查询请假状态
- 统计月度请假数据

---

## 2. resignation_applications（离职申请表）

### 核心作用
管理员工的**离职申请和审批流程**。

### 使用频率
⭐⭐⭐ **10次** - 中频使用，重要人事功能

### 主要功能
1. **员工提交离职申请**
   - 选择计划离职日期
   - 填写离职原因
   - 提交申请

2. **管理员审批**
   - 车队长审批本仓库的申请
   - 超级管理员审批所有申请
   - 支持批准/拒绝，可添加备注

3. **离职管理**
   - 记录员工离职历史
   - 统计离职人数
   - 分析离职原因

4. **资源处理**
   - 离职批准后更新员工状态
   - 处理车辆、仓库等资源
   - 安排工作交接

### 关键字段
```
user_id          - 申请人
warehouse_id     - 所属仓库（可选）
resignation_date - 计划离职日期
reason           - 离职原因
status           - 状态（待审批/已批准/已拒绝）
reviewed_by      - 审批人
```

### 使用场景
- 员工计划离职时提交申请
- 管理员审批离职申请
- 人事部门统计离职数据
- 处理离职员工的资源交接

---

## 两表对比

| 特性 | 请假申请 | 离职申请 |
|------|---------|---------|
| **使用频率** | 高（21次） | 中（10次） |
| **使用场景** | 日常请假 | 员工离职 |
| **时间范围** | 开始+结束日期 | 单个离职日期 |
| **类型分类** | 4种类型 | 无分类 |
| **限制规则** | 月度天数限制 | 无限制 |
| **影响范围** | 临时（几天） | 永久（离职） |
| **集成系统** | 考勤系统 | 人事系统 |

---

## 共同特点

### 1. 审批流程
- 提交申请 → 等待审批 → 批准/拒绝
- 支持草稿保存和编辑
- 实时通知机制

### 2. 权限控制
- 司机/员工：只能提交和查看自己的申请
- 车队长：可以审批本仓库的申请
- 超级管理员：可以审批所有申请

### 3. 通知机制
- 提交申请时通知管理员
- 审批完成时通知申请人
- 使用实时通知系统

---

## 在系统中的重要性

### ⭐ 核心人事功能
这两个表构成了车队管家系统的核心人事管理功能，支持从日常请假到员工离职的全流程管理。

### ⭐ 考勤系统集成
请假申请表与考勤系统紧密集成，已批准的请假会影响考勤统计和打卡要求。

### ⭐ 数据支持决策
为管理层提供人事数据支持，包括请假统计、离职分析等。

### ⭐ 规范化管理
通过系统化的申请和审批流程，实现车队人事管理的规范化和透明化。

---

## 总结

- **leave_applications** = 日常请假管理（高频使用）
- **resignation_applications** = 员工离职管理（重要功能）

两个表共同支撑车队管家的人事管理体系，是系统中不可或缺的核心功能模块。

# 车辆管理功能开发任务清单

## 任务概述
为司机客户端开发全面的车辆管理功能模块，支持车辆信息录入、OCR识别、照片上传等功能。

## 开发计划

### 阶段1：数据库和存储设置
- [ ] 1.1 创建 vehicles 表
- [ ] 1.2 创建 driver_licenses 表
- [ ] 1.3 创建 Supabase Storage bucket
- [ ] 1.4 设置 RLS 策略
- [ ] 1.5 创建数据库类型定义

### 阶段2：工具函数和API封装
- [ ] 2.1 创建图片处理工具（压缩、Base64转换）
- [ ] 2.2 创建OCR识别API封装
- [ ] 2.3 创建图片上传工具
- [ ] 2.4 创建数据库操作API

### 阶段3：基础组件开发
- [ ] 3.1 开发拍照组件 PhotoCapture
- [ ] 3.2 开发OCR结果确认组件 OcrResult
- [ ] 3.3 开发步骤指示器组件 StepIndicator
- [ ] 3.4 开发照片预览组件 PhotoPreview

### 阶段4：页面开发
- [ ] 4.1 车辆列表页 /pages/driver/vehicle-list
- [ ] 4.2 添加车辆页 /pages/driver/add-vehicle
  - [ ] 4.2.1 步骤1：基本信息录入
  - [ ] 4.2.2 步骤2：行驶证识别
  - [ ] 4.2.3 步骤3：车辆照片拍摄
  - [ ] 4.2.4 步骤4：驾驶员证件识别
- [ ] 4.3 车辆详情页 /pages/driver/vehicle-detail
- [ ] 4.4 编辑车辆页 /pages/driver/edit-vehicle

### 阶段5：集成和测试
- [ ] 5.1 功能测试
- [ ] 5.2 表单验证测试
- [ ] 5.3 OCR识别测试
- [ ] 5.4 图片上传测试
- [ ] 5.5 兼容性测试（H5/小程序）
- [ ] 5.6 性能优化

### 阶段6：文档和部署
- [ ] 6.1 更新 README.md
- [ ] 6.2 更新 app.config.ts 路由配置
- [ ] 6.3 代码 lint 检查
- [ ] 6.4 提交代码

## 注意事项
- 所有图片必须压缩至1MB以下
- OCR识别使用文心一言多模态API
- 支持拍照和相册选择两种方式
- 表单需要完整的验证逻辑
- 注意H5和小程序环境兼容性

## 当前进度
正在进行：阶段1 - 数据库和存储设置

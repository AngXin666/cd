# 件数报表使用指南

## 目录

1. [功能概述](#功能概述)
2. [普通管理员使用指南](#普通管理员使用指南)
3. [超级管理员使用指南](#超级管理员使用指南)
4. [常见操作示例](#常见操作示例)
5. [常见问题](#常见问题)

---

## 功能概述

"件数报表"是车队管家系统的核心功能模块，用于管理和查看司机的计件工作记录。系统根据用户角色提供不同的功能权限：

- **普通管理员**：只能查看和筛选数据，不能修改
- **超级管理员**：拥有完整的增删改查权限

---

## 普通管理员使用指南

### 1. 进入件数报表

1. 登录系统后，进入"管理员工作台"
2. 在"管理功能"区域，点击"件数报表"按钮
3. 进入件数报表页面

### 2. 查看统计数据

页面顶部显示三个统计卡片：

- **总件数**：当前筛选条件下的总件数
- **总金额**：当前筛选条件下的总金额（包含基础金额、上楼费用、分拣费用）
- **司机数量**：当前筛选条件下涉及的司机数量

### 3. 筛选数据

#### 3.1 按仓库筛选

1. 在"筛选条件"区域，找到"仓库"选项
2. 点击下拉框，选择要查看的仓库
3. 选择"所有仓库"可查看所有管辖仓库的数据

#### 3.2 按司机筛选

1. 在"筛选条件"区域，找到"司机"选项
2. 在搜索框中输入司机姓名或手机号（可选）
3. 点击下拉框，选择要查看的司机
4. 选择"所有司机"可查看所有司机的数据

#### 3.3 按日期筛选

**方式一：快捷筛选**
- 点击"前一天"：查看前一天的数据
- 点击"本周"：查看本周（周一至今）的数据
- 点击"本月"：查看本月（月初至今）的数据

**方式二：自定义日期范围**
1. 点击"开始日期"，选择起始日期
2. 点击"结束日期"，选择结束日期
3. 系统自动加载该日期范围内的数据

#### 3.4 排序

点击"排序"选项，可以切换：
- **日期从新到旧**（默认）
- **日期从旧到新**

### 4. 查看记录详情

1. 在记录列表中，找到要查看的记录
2. 点击"查看详情"按钮
3. 在弹出的详情窗口中查看完整信息：
   - 司机信息
   - 仓库信息
   - 品类信息
   - 工作日期
   - 数量和单价
   - 基础金额
   - 上楼信息（如有）
   - 分拣信息（如有）
   - 总金额
   - 备注（如有）
4. 点击"关闭"按钮关闭详情窗口

### 5. 注意事项

- 普通管理员只能查看管辖仓库的数据
- 不能添加、编辑或删除记录
- 如需修改数据，请联系超级管理员

---

## 超级管理员使用指南

### 1. 进入件数报表

1. 登录系统后，进入"超级管理员控制台"
2. 在"系统管理"区域，点击"件数报表"按钮
3. 进入件数报表页面

### 2. 查看统计数据

与普通管理员相同，页面顶部显示三个统计卡片。

### 3. 筛选数据

与普通管理员相同，支持按仓库、司机、日期筛选和排序。

**区别：** 超级管理员可以查看所有仓库的数据，不受管辖范围限制。

### 4. 添加计件记录

#### 4.1 进入添加页面

1. 在件数报表页面顶部，点击"添加计件记录"按钮
2. 进入计件记录表单页面

#### 4.2 填写表单

**必填字段：**

1. **司机**
   - 点击下拉框，选择司机
   - 显示司机姓名或手机号

2. **仓库**
   - 点击下拉框，选择仓库
   - 显示仓库名称

3. **品类**
   - 点击下拉框，选择计件品类
   - 如：纸箱、托盘等

4. **工作日期**
   - 点击日期选择器，选择工作日期
   - 默认为当天

5. **数量**
   - 输入计件数量
   - 必须大于0

6. **单价（元）**
   - 输入单价
   - 必须大于0

**可选字段：**

7. **需要上楼**
   - 打开开关，表示需要上楼
   - 输入上楼单价
   - 上楼金额 = 数量 × 上楼单价

8. **需要分拣**
   - 打开开关，表示需要分拣
   - 输入分拣数量
   - 输入分拣单价
   - 分拣金额 = 分拣数量 × 分拣单价

9. **备注**
   - 输入备注信息（可选）
   - 最多200字

#### 4.3 提交保存

1. 检查所有信息是否正确
2. 点击"添加"按钮
3. 系统自动计算总金额并保存
4. 保存成功后自动返回列表页面

#### 4.4 取消操作

点击"取消"按钮，放弃添加并返回列表页面。

### 5. 编辑计件记录

#### 5.1 进入编辑页面

1. 在记录列表中，找到要编辑的记录
2. 点击"编辑"按钮
3. 进入计件记录表单页面

#### 5.2 修改信息

1. 表单会自动填充原有数据
2. 修改需要更改的字段
3. 所有字段的验证规则与添加时相同

#### 5.3 保存修改

1. 检查修改后的信息是否正确
2. 点击"保存"按钮
3. 系统重新计算总金额并保存
4. 保存成功后自动返回列表页面

#### 5.4 取消修改

点击"取消"按钮，放弃修改并返回列表页面。

### 6. 删除计件记录

#### 6.1 删除操作

1. 在记录列表中，找到要删除的记录
2. 点击"删除"按钮
3. 系统弹出确认对话框

#### 6.2 确认删除

1. 仔细阅读确认信息
2. 点击"确定"按钮，确认删除
3. 系统删除记录并刷新列表

#### 6.3 取消删除

点击"取消"按钮，放弃删除操作。

**⚠️ 重要提示：** 删除操作不可恢复，请谨慎操作！

### 7. 查看记录详情

与普通管理员相同，点击"查看详情"按钮查看完整信息。

---

## 常见操作示例

### 示例1：查看本月某个仓库的计件数据

1. 进入件数报表页面
2. 在"仓库"下拉框中选择目标仓库
3. 点击"本月"快捷筛选按钮
4. 查看统计数据和记录列表

### 示例2：查看某个司机的计件记录

1. 进入件数报表页面
2. 在"司机"搜索框中输入司机姓名
3. 在下拉框中选择该司机
4. 查看该司机的所有记录

### 示例3：查看某个日期范围的数据

1. 进入件数报表页面
2. 点击"开始日期"，选择起始日期（如：2025-11-01）
3. 点击"结束日期"，选择结束日期（如：2025-11-05）
4. 查看该日期范围内的数据

### 示例4：添加一条带上楼费用的计件记录（超级管理员）

1. 点击"添加计件记录"按钮
2. 选择司机：张三
3. 选择仓库：A仓库
4. 选择品类：纸箱
5. 选择工作日期：2025-11-05
6. 输入数量：100
7. 输入单价：2.5
8. 打开"需要上楼"开关
9. 输入上楼单价：0.5
10. 点击"添加"按钮
11. 系统自动计算总金额：100 × 2.5 + 100 × 0.5 = 300元

### 示例5：编辑一条记录的数量（超级管理员）

1. 在记录列表中找到要编辑的记录
2. 点击"编辑"按钮
3. 修改数量：从100改为120
4. 点击"保存"按钮
5. 系统重新计算总金额并保存

---

## 常见问题

### Q1: 为什么我看不到某个仓库的数据？

**A:** 
- **普通管理员**：只能查看管辖范围内的仓库数据。如需查看其他仓库，请联系超级管理员。
- **超级管理员**：可以查看所有仓库的数据。如果看不到某个仓库，可能是该仓库没有计件记录。

### Q2: 如何查看某个司机的总计件数和总金额？

**A:** 
1. 在"司机"筛选中选择该司机
2. 选择合适的日期范围（如"本月"）
3. 查看页面顶部的统计数据

### Q3: 统计数据什么时候更新？

**A:** 统计数据会根据筛选条件实时计算和更新。每次修改筛选条件后，统计数据会自动刷新。

### Q4: 如何导出数据？

**A:** 当前版本暂不支持数据导出功能。如有需求，请联系开发团队。

### Q5: 删除记录后能否恢复？

**A:** 不能。删除操作是永久性的，无法恢复。删除前请务必确认。

### Q6: 编辑记录时，总金额如何计算？

**A:** 总金额由系统自动计算，公式为：
```
总金额 = 基础金额 + 上楼金额 + 分拣金额

其中：
- 基础金额 = 数量 × 单价
- 上楼金额 = 数量 × 上楼单价（如果需要上楼）
- 分拣金额 = 分拣数量 × 分拣单价（如果需要分拣）
```

### Q7: 为什么我不能添加/编辑/删除记录？

**A:** 只有超级管理员才有添加、编辑、删除记录的权限。普通管理员只能查看数据。

### Q8: 如何快速找到某条记录？

**A:** 
1. 使用筛选功能缩小范围
2. 按司机筛选：如果知道是哪个司机的记录
3. 按日期筛选：如果知道大概的日期
4. 按仓库筛选：如果知道是哪个仓库的记录

### Q9: 记录列表是按什么顺序排列的？

**A:** 默认按日期从新到旧排列。可以点击"排序"选项切换为从旧到新。

### Q10: 如何查看某条记录的详细信息？

**A:** 点击记录卡片上的"查看详情"按钮，在弹出的窗口中查看完整信息。

---

## 技巧与建议

### 1. 高效筛选

- 先选择仓库，再选择司机，可以快速定位到特定记录
- 使用快捷日期筛选（前一天、本周、本月）可以快速查看常用时间段的数据
- 搜索司机时，输入手机号比姓名更精确

### 2. 数据分析

- 定期查看"本月"数据，了解当月计件情况
- 对比不同仓库的数据，分析工作量分布
- 关注"总金额"统计，掌握成本支出

### 3. 记录管理（超级管理员）

- 添加记录时，及时填写备注信息，方便后续查询
- 定期检查数据准确性，发现错误及时修正
- 删除记录前，务必确认无误，避免误删

### 4. 团队协作

- 普通管理员发现数据问题时，及时反馈给超级管理员
- 超级管理员定期审核数据，确保准确性
- 建立数据录入规范，提高数据质量

---

## 联系支持

如有其他问题或建议，请联系：

- **技术支持**：开发团队
- **业务咨询**：系统管理员

---

**最后更新日期：** 2025-11-05  
**文档版本：** v1.0

# 车队管理小程序需求文档（司机端UI优化版）

## 1. 小程序概述
### 1.1 小程序名称
车队管家

### 1.2 小程序描述
一款专为车队管理打造的微信小程序，提供多角色权限管理，包含驾驶员姓名端、错误管理端和错误管理端三个不同界面，满足车队运营的分层管理需求。

## 2. 权限层级定义
### 2.1 权限角色划分
- **超级管理员**：拥有系统的完整权限，包括所有操作的查看、修改、删除和新增
- **错误管理端**：权限严格限定于查看计件考勤数据，不具备任何新增、修改或删除数据的权限
- **驾驶员姓名端（特定角色）**：允许修改自身历史计件数据，但无权修改或删除其他管理员的数据

### 2.2 核心权限控制规则
- **计件考勤数据模块权限**
  - 错误管理端：仅开放「查看/读取」权限
  - 禁止错误管理端进行数据的新增、修改（编辑）、删除操作
- **管理员历史数据修改权限**
  - 司机本人有权修改属于自己的过往计件记录
  - 司机可删除错误的计件记录（仅限本人数据）
- **删除操作安全机制**
  - 系统中所有删除操作（尤其是由超级管理员执行时）必须触发二次确认流程，弹出确认对话框，以防止误删
  - 司机删除记录前需输入验证信息进行身份确认
- **请假离职审批权限（更新）**
  - **动态权限分配规则**：
    - 当仓库未分配管理员时，超级管理员具备该仓库所有司机的请假与离职审批权限
    - 当仓库已分配管理员后，超级管理员不再具备该仓库的请假与离职审批权限，权限转移至仓库管理员
  - **错误管理端权限**：可审批管辖范围内司机的请假与离职申请
  - **司机端权限**：仅可提交申请和查看自己的申请状态
  - **权限一致性**：请假审批权限与离职审批权限采用相同的分配规则

### 2.3 系统安全增强机制（新增）
- **操作权限管控**
  - 仓库管理的关键操作（数据修改、删除、规则变更）需要登录密码二次验证
  - 二次验证弹窗要求输入当前登录管理员的密码
  - 密码验证失败时锁定操作5分钟，连续3次失败锁定年龄分钟
  - 所有安全验证操作记录到系统日志中
- **安全验证适用场景**
  - 仓库基础信息修改
  - 请假规则设置变更
  - 司机数据批量操作
  - 权限分配调整
  - 重要数据删除操作

## 3. 功能架构
### 3.1 驾驶员姓名端界面（UI优化版）
- **司机个人工作台**
- **基础信息展示模块**
- **快捷功能界面优化设计（重点更新）**
  - **界面布局结构**
    - **中心位置**：「数据统计」功能模块
      - 采用圆形图标设计，直径80px
      - 图标颜色：深蓝色(#1E3A8A)背景，白色图标
      - 位置：界面中心区域，作为视觉焦点
      - 功能：点击进入个人计件数据统计页面
    - **五功能环绕布局**：围绕中心「数据统计」圆形图标，均匀分布五个功能图标
      - **上方位置**：「gps打卡」功能
        - 方形图标，边长60px，圆角8px
        - 图标颜色：橙色(#F97316)背景
        - 距离中心图标间距：40px
      - **左上方位置**：「计件录入」功能
        - 方形图标，边长60px，圆角8px
        - 图标颜色：绿色(#10B981)背景
        - 距离中心图标间距：40px
      - **右上方位置**：「请假管理」功能
        - 方形图标，边长60px，圆角8px
        - 图标颜色：紫色(#8B5CF6)背景
        - 距离中心图标间距：40px
      - **左下方位置**：「工作记录」功能
        - 方形图标，边长60px，圆角8px
        - 图标颜色：青色(#06B6D4)背景
        - 距离中心图标间距：40px
      - **右下方位置**：「个人中心」功能
        - 方形图标，边长60px，圆角8px
        - 图标颜色：靛蓝色(#4F46E5)背景，白色管理员头像图标
        - 距离中心图标间距：40px
        - 功能：点击进入个人中心管理页面
  - **视觉设计规范**
    - 所有图标采用统一的阴影效果：0 2px 8px rgba(0,0,0,0.1)
    - 图标下方显示功能名称，字体大小14px，颜色#374151
    - 点击时提供触觉反馈和缩放动画效果
    - 整体布局保持视觉平衡和协调性
  - **交互设计**
    - 支持点击和长按操作
    - 长按显示功能说明提示
    - 图标状态变化：正常态、按下态、禁用态
    - 流畅的页面跳转动画
- **底部导航栏设计（新增）**
  - **个人中心按钮**
    - 位置：底部导航栏右侧
    - 图标：管理员头像图标，颜色#4F46E5
    - 文字：「我的」，字体大小12px
    - 功能：点击进入个人中心页面
  - **退出登录按钮**
    - 位置：页面最下方，独立于底部导航栏
    - 样式：全宽按钮，高度44px
    - 颜色：红色(#EF4444)背景，白色文字
    - 文字：「退出登录」，字体大小16px
    - 功能：点击后弹出确认对话框，确认后清除登录状态并返回登录页面
    - 确认对话框：「确定要退出登录吗？」，提供「取消」和「确定」按钮
- **gps打卡功能**
  - 实时gps检测
  - 打卡状态显示
  - 打卡记录查询
  - 仓库范围提示
- **计件数据管理**
  - 个人计件数据录入
  - 计件记录修改和确认（仅限自己的历史数据）
  - 计件历史记录查看
  - **优化后的计件记录展示功能**
    - 完整显示每条记录的日期信息（年-月-日格式）
    - 支持按日期范围筛选功能
    - 支持按日期正序/倒序排列
    - 记录编辑和删除操作权限
    - 操作日志记录和查看
    - **精确时间记录功能**：支持添加具体时间（小时:分钟）到计件记录中
    - **费用明细展示**：详细显示基础费用、上楼费用、总费用的组成明细
- **请假管理模块（全面升级版）**
  - **请假申请仪表台（新增）**
    - **仪表台整体设计**
      - 位置：请假申请页面顶部，作为核心信息展示区域
      - 布局：采用三列卡片式布局，水平排列
      - 背景：浅蓝色渐变背景(#F0F9FF到#E0F2FE)
      - 圆角：12px统一圆角设计
      - 阴影：0 4px 12px rgba(59,1年龄,246,0.15)
    - **本月出勤天数卡片**
      - **卡片设计**
        - 背景色：绿色渐变(#ECFDF5到#D1FAE5)
        - 图标：绿色出勤图标(#10B981)
        - 标题：「本月出勤」，字体14px，颜色#374151
        - 数值：大号字体显示天数，32px，颜色#059669
        - 单位：「天」，字体12px，颜色#6B7280
      - **数据计算**
        - 统计当前自然月（1日-月末）的实际出勤天数
        - 包含正常出勤、加班出勤等有效工作日
        - 排除请假、缺勤等非出勤日期
        - 实时更新，确保数据准确性
    - **本月请假天数卡片**
      - **卡片设计**
        - 背景色：橙色渐变(#FFF7ED到#FED7AA)
        - 图标：橙色请假图标(#F97316)
        - 标题：「本月请假」，字体14px，颜色#374151
        - 数值：大号字体显示天数，32px，颜色#EA580C
        - 单位：「天」，字体12px，颜色#6B7280
      - **数据计算**
        - 统计当前自然月已批准的所有请假天数
        - 包含事假、病假、年假、调休、补假等所有类型
        - 包含快捷请假、标准请假、补请假的累计天数
        - 审批中的申请不计入已请假天数
    - **剩余申请天数卡片**
      - **卡片设计**
        - 背景色：紫色渐变(#FAF5FF到#E9D5FF)
        - 图标：紫色剩余图标(#8B5CF6)
        - 标题：「剩余可申请」，字体14px，颜色#374151
        - 数值：大号字体显示天数，32px，颜色#7C3AED
        - 单位：「天」，字体12px，颜色#6B7280
      - **数据计算**
        - 计算公式：仓库设置的月度上限 - 本月已请假天数 = 剩余可申请天数
        - 当剩余天数≤3时，数值颜色变为橙色(#F97316)警告
        - 当剩余天数≤0时，数值颜色变为红色(#EF4444)，显示「已超限」
        - 实时计算，包含审批中的申请天数
    - **仪表台交互功能**
      - **点击查看详情**
        - 点击出勤卡片：跳转到本月出勤记录详情页面
        - 点击请假卡片：跳转到本月请假记录详情页面
        - 点击剩余卡片：显示月度限制规则说明弹窗
      - **数据刷新**
        - 页面进入时自动刷新仪表台数据
        - 提交请假申请后自动更新剩余天数
        - 支持下拉刷新手动更新数据
      - **状态提示**
        - 剩余天数不足时显示温馨提示
        - 超限时显示特别提醒和解决方案
        - 数据加载时显示加载动画
  - **请假申请限制校验（新增）**
    - 系统自动校验当前月份内已申请的固定假期天数累计
    - 当累计天数超过仓库规则设定的月度上限时，自动锁定再次提交请假申请的权限
    - 锁定状态下显示明确提示：「本月请假天数已达上限（X/Y天），无法继续申请」
    - 提供查看本月请假记录的快捷入口
    - 月度计算周期：自然月1日-月末最后一天
  - **快捷请假功能（新增）**
    - **滚轮选择器**：通过滚轮滑动快速选择请假天数（1-年龄天）
    - **智能日期设置**：默认起始日期自动设置为第二天
    - **快速申请模式**：选择天数后自动计算结束日期
    - **一键提交**：快捷请假支持一键快速提交
  - **补请假功能（新增）**
    - **历史日期选择**：允许手动选择当天及之前的日期进行补假申请
    - **补假标识**：补请假申请带有特殊标识「补假」
    - **补假说明**：必填补假原因和详细说明
    - **审批提醒**：补假申请会特别提醒审批人员注意
  - **标准请假申请功能**
    - 请假类型选择（事假、病假、年假、调休等）
    - 开始时间与结束时间选择（支持日期时间选择器）
    - **智能天数计算**：根据选择的起始日期和结束日期自动计算总天数，实时显示计算结果
    - **天数限制验证**：根据所属仓库设置的请假天数上限进行验证，超过上限时显示提示信息
    - 请假事由填写（文本输入框，支持多行输入）
    - 附件上传功能（支持图片上传，如病假条等证明材料）
    - **草稿管理功能**：
      - 支持请假申请草稿保存，允许管理员中途保存未完成的申请
      - 草稿列表展示，显示保存时间和申请类型
      - 支持草稿的编辑、续填和正式提交操作
      - 草稿自动保存机制，防止数据丢失
    - 申请提交与撤销功能
  - **离职申请功能（优化版）**
    - **智能日期限制**：离职申请日期只能选择距当前日期指定天数后的日期（根据仓库设置）
    - **提前天数提示**：界面显示当前仓库要求的离职申请提前天数
    - **最早可选日期计算**：系统自动计算并显示最早可选的离职日期
    - 离职原因填写（下拉选择+自定义输入）
    - 工作交接说明（可选）
    - **草稿管理功能**：支持离职申请的草稿保存和续填
    - 申请提交功能
  - **申请状态查看**
    - 显示所有提交的请假与离职申请列表
    - 申请状态标识（审批中、已通过、已驳回）
    - 申请详情查看（包含审批意见）
    - 驳回申请的重新提交功能
    - **超限提示**：当请假天数超过仓库设置上限时，显示「需管理员手动审批」提示
    - **当月考勤显示**：显示当前月份已请假天数统计
- **个人中心模块（全新升级版）**
  - **个人信息管理**
    - **头像管理**
      - 显示当前头像（支持默认头像）
      - 支持头像上传功能（从相册选择或拍照）
      - 内置头像裁剪工具，支持圆形裁剪
      - 头像尺寸限制：最大2MB，支持jpg/png格式
      - 头像上传后实时预览和确认
    - **管理员昵称管理**
      - 显示当前管理员昵称
      - 支持昵称修改功能
      - 昵称长度限制：2-20个字符
      - 昵称重复性检查
      - 昵称修改需要二次确认
    - **手机号管理（联系电话）**
      - 显示当前绑定手机号（部分隐藏：138****8000）
      - **短信验证码验证机制**：
        - 点击修改按钮进入手机号修改页面
        - 输入新手机号
        - 点击「发送验证码」按钮
        - 验证码发送频率限制：60秒间隔，按钮显示倒计时
        - 输入6位数字验证码
        - 验证码有效期：5分钟
        - 验证失败处理：连续5次失败锁定年龄分钟
        - 验证成功后保存新手机号
    - **邮箱管理（邮箱地址）**
      - 显示当前邮箱地址
      - 支持邮箱修改功能
      - 邮箱格式验证
      - 邮箱验证码确认机制
      - 修改成功后发送确认邮件
    - **地址管理（现居住地址）**
      - 显示当前联系地址
      - **分级地址选择**：
        - 省份选择器（支持全国34个省市自治区）
        - 城市选择器（根据省份动态加载）
        - 区县选择器（根据城市动态加载）
        - 详细地址输入框（街道、门牌号等）
      - 支持地图选择地址功能
      - 地址信息完整性验证
      - 常用地址保存功能
    - **紧急联系人管理**
      - **联系人姓名（紧急联系人姓名）**
        - 显示当前紧急联系人姓名
        - 支持姓名修改功能
        - 姓名长度验证（2-10个字符）
      - **联系人电话（紧急联系人电话号码）**
        - 显示当前联系人电话（部分隐藏：138****8003）
        - 支持电话号码修改
        - 电话格式验证（11位手机号或固话格式）
        - 支持一键拨打功能
  - **账户与安全**
    - **修改密码功能**
      - **原密码验证**：
        - 输入当前登录密码进行身份验证
        - 密码错误时显示明确提示
        - 连续3次输入错误锁定5分钟
      - **新密码设置**：
        - 新密码输入框（密码强度实时检测）
        - 确认新密码输入框
        - **密码强度校验**：
          - 至少8位字符
          - 必须包含字母和数字
          - 建议包含特殊字符
          - 实时显示密码强度等级（弱/中/强）
        - 新旧密码不能相同验证
      - **密码修改流程**：
        - 验证原密码 → 设置新密码 → 确认新密码 → 提交修改
        - 修改成功后强制重新登录
        - 修改成功发送短信通知
  - **帮助与反馈**
    - **使用说明文档（新增）**
      - 提供完整的功能使用指南
      - 分模块介绍各功能操作步骤
      - 常见问题解答（FAQ）
      - 支持关键词搜索帮助内容
      - 图文并茂的操作演示
      - 新管理员快速上手指引
    - **意见反馈（优化）**
      - **反馈类型选择**：
        - 功能建议
        - 问题报告
        - 使用咨询
        - 其他意见
      - **反馈内容填写**：
        - 问题描述（必填，最少10字）
        - 问题截图上传（可选，最多3张）
        - 联系方式（可选，便于回复）
      - **反馈提交与跟踪**：
        - 提交后生成反馈编号
        - 支持查看反馈处理状态
        - 处理完成后推送通知
        - 反馈历史记录查看
  - **设置项管理**
    - **通知设置**
      - 系统通知开关
      - 审批通知开关
      - 工作提醒开关
      - 消息推送时间设置
    - **显示设置**
      - 字体大小调节
      - 主题色彩选择
      - 夜间模式开关
    - **数据设置**
      - 数据同步设置
      - 缓存清理功能
      - 数据导出功能
    - **关于应用**
      - 应用版本信息
      - 更新日志查看
      - 服务条款
      - 隐私政策

### 3.2 错误管理端界面
- 管理员工作台
- 基础管理功能模块
- 打卡管理功能
  - 司机打卡记录查看
  - 打卡异常提醒
- **多仓库管理功能**
  - **仓库选择器**：当管理员管辖多个仓库时，页面顶部显示仓库选择下拉框
  - **动态数据更新**：选择仓库后，下方所有数据实时动态更新显示
  - **仓库切换记忆**：系统记住管理员最后选择的仓库，下次登录时自动选中
- **仓库基础信息管理扩展（新增）**
  - **仓库详细信息展示页面**
    - 仓库基本信息（名称、地址、gps范围等）
    - **当前绑定的司机总人数**：实时显示该仓库绑定的司机数量
    - **该仓库的主要管理员姓名**：显示负责该仓库的管理员信息
    - **独立请假规则设置模块**：
      - 显示当前仓库的请假规则配置
      - 支持点击放大显示查看对应规则详情
      - 规则包含：各类型请假天数上限、月度累计限制、特殊规则等
      - 规则变更历史记录查看
    - 考勤规则配置信息
    - 最后更新时间和操作人员信息
- 司机管理页面
  - **快速检索功能**
    - 页面顶部提供司机快速检索输入框
    - 支持按司机工号、姓名、手机号进行模糊搜索
    - 支持快速检索特定司机（如：A电话号码）
    - 检索结果实时显示，支持一键gps到目标司机
    - 检索历史记录保存，方便重复查询
  - 仓库列表展示（每个仓库提供可点击入口）
  - 仓库详情页面
    - 考勤统计区域
      - 出勤日期记录
      - 工作时长统计
      - 迟到/早退记录
      - 考勤率统计
    - 计件统计区域
      - 完成订单数统计
      - 计件类型分类
      - 计件单价展示
      - 总金额汇总
    - 数据筛选功能
      - 按日期范围筛选
      - 按统计维度切换（日/周/月）
- **增强的计件记录功能**
  - **完整功能对等**：具备与驾驶员姓名端相同的完整计件记录功能
    - 精确时间记录查看（显示具体时间：小时:分钟）
    - 详细费用明细展示（基础费用+上楼费用=总费用）
    - 完整的记录信息展示
  - **记录详情查看**
    - 每条计件记录支持点击操作
    - 点击后弹出详情窗口，展示该记录的完整详细信息
    - 详情窗口包含：司机信息、时间详情、品类信息、数量明细、费用组成、备注信息等
  - **实时数据同步**
    - 确保数据实时同步更新
    - 页面响应速度满足实时操作需求
- **数据统计功能**
  - **计件数据统计**
    - 查看指定单个司机的计件数据
    - 查看所管辖仓库内所有司机的汇总计件数据
    - 计件数量统计（按司机、仓库、品类分组）
    - 收入金额统计和趋势分析
    - 品类分布统计和占比分析
    - 上楼服务统计和费用分析
  - **考勤数据统计（新增）**
    - **出勤天数统计**：统计司机在指定时间范围内的实际出勤天数
    - **请假天数统计**：统计司机各类型请假的总天数和分类统计
    - **迟到天数统计**：统计司机迟到次数和迟到时长分析
    - **考勤率计算**：自动计算出勤率、请假率、迟到率等关键指标
    - **考勤趋势分析**：按日、周、月维度展示考勤数据变化趋势
    - **异常考勤预警**：标识频繁迟到、请假异常等情况
  - **综合数据汇总**
    - 支持计件数据与考勤数据的关联分析
    - 提供司机工作效率综合评估
    - 支持数据导出功能（Excel格式）
    - 数据筛选功能（按司机、仓库、时间范围等）
- **请假离职审批管理（增强版）**
  - **审批工作台**
    - 待审批申请列表（请假与离职申请）
    - 申请类型标识和紧急程度标记
    - 申请时间排序显示
    - **智能天数显示**：请假申请自动显示计算后的总天数
    - **超限标识**：超过仓库设置天数上限的申请特殊标记
    - **当月考勤提醒**：显示申请人当月已请假天数情况
  - **审批操作功能**
    - 申请详情查看（包含司机信息、申请内容、附件等）
    - 通过/驳回操作按钮
    - 驳回时必填驳回理由
    - 审批意见填写（可选）
    - **超限审批**：对于超过天数上限的申请，需要特殊审批流程
  - **审批记录管理**
    - 已审批申请历史记录
    - 审批统计数据（通过率、处理时长等）
    - 按司机、时间范围筛选审批记录

### 3.3 错误管理端界面
- 超级管理员控制台
- 系统管理功能模块
- 仓库gps管理
  - 仓库信息设置
  - gps范围配置（支持设置仓库坐标和允许打卡的范围半径）
  - 打卡时间段设置（可为不同仓库设置不同的有效打卡时间）
  - 仓库列表管理
- **仓库请假离职规则管理（升级版）**
  - **请假天数上限设置**
    - 为每个独立仓库分别设置允许的请假天数上限（1-年龄天）
    - 支持按请假类型设置不同上限（事假、病假、年假等）
    - **月度累计限制设置（新增）**：设置每个仓库司机的月度请假天数累计上限
    - 超过上限的申请需要超级管理员手动审批
    - 设置历史记录和变更日志
    - **安全验证**：规则变更需要登录密码二次验证
  - **离职提前天数设置**
    - 为每个独立仓库分别设置离职申请需提前的天数要求（7-90天）
    - 支持按司机级别设置不同要求（普通司机、资深司机等）
    - 特殊情况下的例外处理规则设置
    - 设置变更需要二次确认
    - **安全验证**：规则变更需要登录密码二次验证
  - **规则管理界面**
    - 仓库规则一览表，显示所有仓库的当前设置
    - 批量设置功能，支持将规则应用到多个仓库
    - 规则模板功能，预设常用的规则组合
    - 规则生效时间设置，支持延迟生效
    - **安全操作**：批量设置和模板应用需要密码验证
- 计件管理功能
  - 全部仓库计件数据查看和管理
  - 品类设置和管理
  - 计件数据统计和报表
  - 上楼单价配置
- **数据统计功能**
  - **计件报表**
    - **全局数据查看权限**
      - 可查看所有司机的数据汇总
      - 具备全局数据查看权限
    - **计件记录展示优化**
      - 完整显示每条记录的日期信息（YYYY-MM-DD格式）
      - 日期信息使用16px加粗字体和深色显示，确保醒目易读
      - 当日记录使用特殊标识（如「今日」标签）
      - **精确时间显示**：显示具体录入时间（YYYY-MM-DD HH:mm格式）
      - **详细费用明细**：清晰展示基础费用、上楼费用、总费用的详细组成
    - **考勤数据统计（新增）**
      - **出勤天数统计**：统计所有司机在指定时间范围内的出勤天数，支持按仓库、司机分组查看
      - **请假天数统计**：详细统计各类型请假天数，包括事假、病假、年假、调休、补假等分类统计
      - **迟到天数统计**：统计司机迟到次数、迟到时长、迟到频率等详细数据
      - **考勤综合分析**：
        - 出勤率计算（出勤天数/应出勤天数×100%）
        - 请假率分析（请假天数/总天数×100%）
        - 迟到率统计（迟到次数/出勤次数×100%）
        - 考勤异常预警（连续请假、频繁迟到等）
      - **考勤趋势图表**：
        - 按月度展示考勤数据变化趋势
        - 出勤、请假、迟到数据的对比分析
        - 支持图表形式展示（柱状图、折线图、饼图）
    - **筛选和排序功能**
      - 提供日期范围选择器，支持自定义起止日期
      - 快捷筛选选项：今日、前一天、近7天、本周、近年龄天、本月、上月
      - 支持按日期正序（最早在前）和倒序（最新在前）排列
      - 支持按司机、仓库、品类等维度筛选
      - **考勤筛选**：支持按出勤状态、请假类型、迟到情况筛选
      - 筛选结果实时更新，显示匹配记录数量
    - **数据管理操作**
      - 具备全部计件记录的编辑、删除权限
      - 编辑操作需进行二次确认，弹窗显示修改前后数据对比
      - 删除操作触发二次确认，明确显示即将删除的记录详情
      - **安全验证**：重要数据操作需要登录密码二次验证
      - 所有操作自动记录操作日志
    - **统计分析功能**
      - **计件统计**：
        - 计件数量统计（按司机、仓库、品类分组）
        - 收入金额统计和趋势分析
        - 品类分布统计和占比分析
        - 上楼服务统计和费用分析
      - **考勤统计**：
        - 全公司出勤天数汇总统计
        - 各仓库请假天数对比分析
        - 迟到情况统计和排名
        - 考勤异常司机识别和预警
      - **综合效率分析**：
        - 司机工作效率综合评估（结合计件和考勤数据）
        - 仓库运营效率对比分析
        - 月度、季度、年度数据对比
      - 支持数据导出功能（Excel格式，包含计件和考勤数据）
    - **界面布局设计**
      - 采用卡片式布局展示计件记录
      - **考勤数据卡片**：独立展示考勤统计信息
      - 日期信息采用卡片顶部显示
      - 操作按钮（编辑、删除）布局在记录卡片右侧
      - 编辑按钮使用蓝色，删除按钮使用红色，视觉区分明确
      - **数据切换标签**：提供「计件数据」和「考勤数据」切换标签
- 权限分配管理
  - 灵活的权限分配界面
  - 为不同角色精确配置权限
  - **安全验证**：权限变更需要登录密码二次验证
- **动态请假离职管理（更新版）**
  - **智能权限管理**
    - **权限状态监控**：实时监控仓库管理员分配状态
    - **动态权限切换**：
      - 当仓库未分配管理员时，超级管理员自动获得该仓库的审批权限
      - 当仓库分配管理员后，超级管理员自动失去该仓库的审批权限
    - **权限提示机制**：
      - 界面明确显示当前具备审批权限的仓库列表
      - 无权限操作时显示明确的权限说明和联系方式
  - **全公司审批管理**
    - 查看全公司所有司机的请假与离职申请（仅限有权限的仓库）
    - 具备有权限仓库内所有申请的审批权限（通过/驳回）
    - 支持批量审批操作
    - **智能天数计算显示**：所有请假申请自动显示计算后的总天数
    - **超限申请处理**：对于超过仓库设置天数上限的申请，超级管理员可进行手动审批
    - **当月考勤监控**：查看各司机的月度请假天数统计情况
  - **审批流程监控**
    - 审批流程可视化展示
    - 审批时效监控和提醒
    - 异常申请标记和处理
  - **数据统计分析**
    - 请假计件报表（按部门、时间、类型分析）
    - 离职率统计和趋势分析
    - 审批效率统计
    - 数据导出功能
- **请假审批监控界面（新增）**
  - **审批记录集中展示**
    - 集中展示所有管理人员提交的请假离职审批记录
    - 采用列表形式展示，支持分页加载（每页20条记录）
    - 实时数据更新，确保审批记录的及时性
  - **核心审批信息展示**
    - **申请人信息**：提交审批的管理员姓名、工号、所属仓库
    - **当事人信息**：被审批的驾驶员姓名、工号、所属仓库
    - **请假详情**：
      - 请假类型（事假、病假、年假、调休、补假等）
      - 准确的起止日期（YYYY-MM-DD格式）
      - 请假时长（自动计算天数）
      - 请假事由和详细说明
    - **审批状态**：
      - 待审批（橙色标识）
      - 已批准（绿色标识）
      - 已驳回（红色标识）
      - 审批中（蓝色标识，适用于多级审批）
    - **历史审批轨迹**：
      - 处理人员姓名和职位
      - 处理时间（精确到分钟）
      - 审批意见或备注
      - 审批操作类型（通过/驳回/转审）
  - **强大的查询筛选功能**
    - **申请人筛选**：支持按管理员姓名、工号进行筛选
    - **司机筛选**：支持按驾驶员姓名、工号进行筛选
    - **请假类型筛选**：多选下拉框，支持同时筛选多种请假类型
    - **时间范围筛选**：
      - 申请提交时间范围
      - 请假日期范围
      - 审批处理时间范围
    - **审批状态筛选**：支持按审批状态进行筛选
    - **仓库筛选**：支持按仓库进行筛选
    - **组合筛选**：支持多条件组合筛选，实时显示筛选结果数量
  - **高级搜索功能**
    - **快速搜索框**：页面顶部提供全局搜索框
    - **智能搜索**：支持姓名、工号、请假事由等关键词搜索
    - **搜索历史**：保存常用搜索条件，支持一键应用
    - **搜索结果高亮**：搜索关键词在结果中高亮显示
  - **界面布局设计**
    - **顶部筛选区域**：
      - 搜索框居中显示
      - 筛选条件采用折叠式设计，点击展开详细筛选选项
      - 筛选结果统计显示在右上角
    - **记录列表区域**：
      - 采用卡片式布局，每条记录独立卡片
      - 卡片左侧显示申请人和司机信息
      - 卡片中部显示请假详情和状态
      - 卡片右侧显示审批轨迹和操作按钮
    - **详情查看功能**：
      - 点击记录卡片弹出详情窗口
      - 详情窗口展示完整的申请信息和审批流程
      - 支持在详情窗口中进行审批操作（如有权限）
    - **批量操作功能**：
      - 支持多选记录进行批量导出
      - 支持批量标记为已读/未读
      - 批量操作需要二次确认
  - **数据统计功能**
    - **审批效率统计**：
      - 平均审批时长统计
      - 各管理员审批效率对比
      - 审批通过率统计
    - **请假趋势分析**：
      - 按月份统计请假申请数量
      - 按请假类型统计分布情况
      - 按仓库统计请假情况
    - **异常数据监控**：
      - 超时未审批的申请提醒
      - 频繁请假的司机预警
      - 审批异常情况标记
  - **导出功能**
    - 支持将筛选结果导出为Excel文件
    - 导出内容包含所有核心审批信息
    - 支持自定义导出字段和格式
    - 导出操作记录到系统日志
- **系统设置功能（新增）**
  - **个人中心管理**
    - **个人信息管理**
      - **头像管理**
        - 显示当前头像（支持默认头像）
        - 支持头像上传功能（从相册选择或拍照）
        - 内置头像裁剪工具，支持圆形裁剪
        - 头像尺寸限制：最大2MB，支持jpg/png格式
        - 头像上传后实时预览和确认
      - **管理员昵称管理**
        - 显示当前姓名/昵称
        - 支持昵称修改功能
        - 昵称长度限制：2-20个字符
        - 昵称重复性检查
        - 昵称修改需要二次确认
      - **手机号管理**
        - 显示当前绑定手机号（部分隐藏显示）
        - **短信验证码验证机制**：
          - 点击修改按钮进入手机号修改页面
          - 输入新手机号
          - 点击「发送验证码」按钮
          - 验证码发送频率限制：60秒间隔，按钮显示倒计时
          - 输入6位数字验证码
          - 验证码有效期：5分钟
          - 验证失败处理：连续5次失败锁定年龄分钟
          - 验证成功后保存新手机号
      - **邮箱管理**
        - 显示当前邮箱地址
        - 支持邮箱修改功能
        - 邮箱格式验证
        - 邮箱验证码确认机制
        - 修改成功后发送确认邮件
      - **地址管理**
        - 显示当前联系地址
        - **分级地址选择**：
          - 省份选择器（支持全国34个省市自治区）
          - 城市选择器（根据省份动态加载）
          - 区县选择器（根据城市动态加载）
          - 详细地址输入框（街道、门牌号等）
        - 支持地图选择地址功能
        - 地址信息完整性验证
        - 常用地址保存功能
    - **账户与安全**
      - **修改密码功能**
        - **原密码验证**：
          - 输入当前登录密码进行身份验证
          - 密码错误时显示明确提示
          - 连续3次输入错误锁定5分钟
        - **新密码设置**：
          - 新密码输入框（密码强度实时检测）
          - 确认新密码输入框
          - **密码强度校验**：
            - 至少8位字符
            - 必须包含字母和数字
            - 建议包含特殊字符
            - 实时显示密码强度等级（弱/中/强）
          - 新旧密码不能相同验证
        - **密码修改流程**：
          - 验证原密码 → 设置新密码 → 确认新密码 → 提交修改
          - 修改成功后强制重新登录
          - 修改成功发送短信通知
  - **系统设置管理**
    - **通知设置**
      - 系统通知开关
      - 审批通知开关
      - 工作提醒开关
      - 消息推送时间设置
    - **显示设置**
      - 字体大小调节
      - 主题色彩选择
      - 夜间模式开关
    - **数据设置**
      - 数据同步设置
      - 缓存清理功能
      - 数据导出功能
    - **关于应用**
      - 应用版本信息
      - 更新日志查看
      - 服务条款
      - 隐私政策
  - **帮助与反馈**
    - **使用说明文档**
      - 提供完整的功能使用指南
      - 分模块介绍各功能操作步骤
      - 常见问题解答（FAQ）
      - 支持关键词搜索帮助内容
      - 图文并茂的操作演示
      - 新管理员快速上手指引
    - **意见反馈**
      - **反馈类型选择**：
        - 功能建议
        - 问题报告
        - 使用咨询
        - 其他意见
      - **反馈内容填写**：
        - 问题描述（必填，最少10字）
        - 问题截图上传（可选，最多3张）
        - 联系方式（可选，便于回复）
      - **反馈提交与跟踪**：
        - 提交后生成反馈编号
        - 支持查看反馈处理状态
        - 处理完成后推送通知
        - 反馈历史记录查看

## 4. 驾驶员姓名端UI优化详细说明
### 4.1 移除功能清单
- **彻底移除支出功能**
  - 删除所有支出相关的快捷功能入口
  - 移除支出数据录入界面
  - 删除支出统计和报表功能
  - 清理支出相关的数据库表和字段
- **彻底移除「我的」界面**
  - 删除原有的「我的」主功能入口页面
  - 移除「我的」界面下的所有子功能模块
  - 重新规划功能入口和导航结构

### 4.2 快捷功能界面重新设计（核心更新）
- **整体布局架构**
  - **中心圆形图标**：「数据统计」功能
    - 位置：界面几何中心位置
    - 尺寸：直径80px的圆形图标
    - 设计：深蓝色(#1E3A8A)背景，白色统计图表图标
    - 阴影效果：0 4px 12px rgba(年龄,58,138,0.3)
    - 功能：点击进入个人计件数据统计和分析页面
  - **五功能环绕式布局**：围绕中心圆形图标均匀分布
    - **上方功能**：「gps打卡」
      - 位置：中心图标正上方，间距40px
      - 尺寸：60px×60px方形，圆角8px
      - 颜色：橙色(#F97316)背景，白色gps图标
      - 功能：进入gps打卡页面
    - **左上方功能**：「计件录入」
      - 位置：中心图标左上方45度角，间距40px
      - 尺寸：60px×60px方形，圆角8px
      - 颜色：绿色(#10B981)背景，白色录入图标
      - 功能：进入计件数据录入页面
    - **右上方功能**：「请假管理」
      - 位置：中心图标右上方45度角，间距40px
      - 尺寸：60px×60px方形，圆角8px
      - 颜色：紫色(#8B5CF6)背景，白色请假图标
      - 功能：进入请假申请和管理页面
    - **左下方功能**：「工作记录」
      - 位置：中心图标左下方45度角，间距40px
      - 尺寸：60px×60px方形，圆角8px
      - 颜色：青色(#06B6D4)背景，白色记录图标
      - 功能：查看个人工作记录和历史
    - **右下方功能**：「个人中心」
      - 位置：中心图标右下方45度角，间距40px
      - 尺寸：60px×60px方形，圆角8px
      - 颜色：靛蓝色(#4F46E5)背景，白色管理员头像图标
      - 功能：进入个人中心管理页面

### 4.3 底部导航栏设计（新增）
- **导航栏整体设计**
  - 位置：页面底部固定
  - 高度：60px
  - 背景色：白色(#FFFFFF)
  - 顶部边框：1px实线，颜色#E5E7EB
  - 阴影效果：0 -2px 8px rgba(0,0,0,0.1)
- **个人中心按钮**
  - 位置：底部导航栏右侧
  - 图标：管理员头像图标，尺寸24px
  - 颜色：靛蓝色(#4F46E5)
  - 文字：「我的」，字体大小12px，颜色#374151
  - 激活状态：图标和文字变为深蓝色(#1E3A8A)
  - 功能：点击进入个人中心页面
- **退出登录按钮设计（新增）**
  - 位置：页面最下方，独立于底部导航栏
  - 样式：全宽按钮，高度44px
  - 背景色：红色(#EF4444)
  - 文字：「退出登录」，字体大小16px，颜色白色
  - 圆角：8px
  - 外边距：左右16px，底部20px
  - 阴影效果：0 2px 4px rgba(239,68,68,0.2)
  - **交互效果**：
    - 按下时背景色变为深红色(#DC2626)
    - 点击后弹出确认对话框
  - **确认对话框设计**：
    - 标题：「退出登录」
    - 内容：「确定要退出登录吗？」
    - 按钮：「取消」（灰色）和「确定」（红色）
    - 确认后清除登录状态并返回登录页面

### 4.4 视觉设计规范
- **统一阴影效果**
  - 中心圆形图标：0 4px 12px rgba(年龄,58,138,0.3)
  - 五个环绕图标：0 2px 8px rgba(0,0,0,0.1)
  - 底部导航栏：0 -2px 8px rgba(0,0,0,0.1)
  - 退出登录按钮：0 2px 4px rgba(239,68,68,0.2)
- **文字标签设计**
  - 位置：每个图标下方8px处
  - 字体：14px，颜色#374151
  - 对齐：居中对齐
  - 内容：功能名称（如「数据统计」「gps打卡」等）
- **交互状态设计**
  - **正常态**：默认颜色和阴影
  - **按下态**：图标缩放至95%，阴影减弱
  - **禁用态**：透明度50%，灰色覆盖
- **动画效果**
  - 点击时：0.2s缩放动画
  - 页面跳转：0.3s淡入淡出过渡
  - 长按时：轻微震动反馈

### 4.5 响应式布局适配
- **不同屏幕尺寸适配**
  - 小屏设备：图标间距调整为35px
  - 大屏设备：图标间距调整为45px
  - 超宽屏：保持最大间距不超过50px
- **安全区域适配**
  - 考虑刘海屏和底部安全区域
  - 整体布局位置动态调整
  - 确保所有图标在可点击范围内
  - 退出登录按钮考虑底部安全区域，适当增加底部边距

### 4.6 个人中心界面设计详细说明
- **个人中心入口设计**
  - 从快捷功能界面右下方方形图标或底部导航栏进入
  - 进入时采用从右侧滑入的动画效果
  - 顶部显示管理员头像和基本信息

### 4.7 个人信息管理模块详细设计
- **模块入口设计**
  - 在个人中心主页面顶部显示「个人信息」卡片入口
  - 卡片显示司机头像、姓名和基本信息预览
  - 点击卡片进入个人信息详细管理页面

- **头像管理功能**
  - **头像显示区域**
    - 圆形头像显示，尺寸80x80px
    - 默认头像为系统预设的管理员图标
    - 头像下方显示「点击更换头像」提示
  - **头像上传流程**
    - 点击头像区域弹出选择菜单：「从相册选择」「拍照」「取消」
    - 选择图片后自动进入裁剪界面
    - **裁剪工具功能**：
      - 支持手势缩放和拖拽调整
      - 圆形裁剪框，实时预览效果
      - 提供「重新选择」和「确认」按钮
    - **图片限制**：
      - 文件大小：最大2MB
      - 格式支持：jpg、png
      - 分辨率：最小200x200px
    - 上传成功后实时更新显示

- **管理员昵称管理**
  - **显示格式**
    - 标签：「姓名/昵称」
    - 当前值显示
    - 右侧编辑图标
  - **编辑流程**
    - 点击进入昵称编辑页面
    - 输入框预填当前昵称
    - **验证规则**：
      - 长度限制：2-20个字符
      - 支持中文、英文、数字
      - 不允许特殊字符和空格
    - **重复性检查**：
      - 实时检查昵称是否已被使用
      - 重复时显示红色提示
    - **确认流程**：
      - 输入新昵称 → 格式验证 → 重复性检查 → 二次确认 → 保存

### 4.8 账户与安全模块详细设计
- **修改密码界面设计**
  - **页面布局**
    - 顶部标题：「修改登录密码」
    - 三个输入框垂直排列
    - 底部提交按钮
  - **原密码验证区域**
    - 输入框标签：「当前密码」
    - 密码输入框（密文显示）
    - 右侧眼睛图标（点击显示/隐藏密码）
    - **验证机制**：
      - 失焦时自动验证原密码
      - 错误时显示红色提示：「当前密码不正确」
      - 连续3次错误锁定5分钟
  - **新密码设置区域**
    - **新密码输入框**
      - 标签：「新密码」
      - 实时密码强度检测
      - 强度指示器：弱（红色）/中（橙色）/强（绿色）
    - **密码强度规则提示**
      - 至少8位字符 ✓/✗
      - 包含字母 ✓/✗
      - 包含数字 ✓/✗
      - 包含特殊字符 ✓/✗（建议项）
    - **确认密码输入框**
      - 标签：「确认新密码」
      - 实时比对新密码
      - 不一致时显示红色提示
  - **提交流程**
    - 所有验证通过后「确认修改」按钮变为可点击状态
    - 点击后弹出二次确认对话框
    - 确认后提交修改请求
    - 修改成功后显示成功提示并强制重新登录
    - 同时发送短信通知到绑定手机号

### 4.9 帮助与反馈模块详细设计
- **使用说明文档功能**
  - **文档结构**
    - 快速入门指南
    - 功能模块详解（打卡、计件、请假等）
    - 常见问题解答
    - 操作视频教程
  - **搜索功能**
    - 顶部搜索框，支持关键词搜索
    - 搜索结果高亮显示
    - 热门搜索词推荐
  - **界面设计**
    - 左侧目录导航
    - 右侧内容展示区域
    - 图文并茂的操作说明
    - 支持收藏常用帮助内容

- **意见反馈功能优化**
  - **反馈类型选择**
    - 单选按钮形式：功能建议/问题报告/使用咨询/其他意见
    - 不同类型对应不同的表单字段
  - **反馈内容区域**
    - **问题描述**：
      - 多行文本输入框
      - 字数限制：10-500字
      - 实时字数统计显示
    - **截图上传**：
      - 支持最多3张图片
      - 图片预览和删除功能
      - 压缩上传，单张最大5MB
    - **联系方式**：
      - 可选填写手机号或邮箱
      - 便于问题回复和跟踪
  - **提交与跟踪**
    - 提交后生成唯一反馈编号
    - 「我的反馈」页面查看历史记录
    - 反馈状态：已提交/处理中/已回复/已关闭
    - 处理完成后推送消息通知

## 5. 打卡功能详细说明
### 5.1 gps打卡机制
- 司机必须在管理员预设的仓库gps范围内才能成功打卡
- 系统自动获取司机当前gps位置并与仓库范围进行匹配
- 超出范围时显示距离最近仓库的方向和距离提示

### 5.2 仓库管理
- 管理员可添加多个仓库位置
- 每个仓库可独立设置gps范围（半径）
- 每个仓库可设置不同的打卡有效时间段

### 5.3 打卡时间控制
- 支持设置每日打卡时间段
- 可为不同仓库设置不同的时间规则
- 非有效时间段内无法进行打卡操作

## 6. 仓库详情页面功能说明
### 6.1 页面布局
- 顶部仓库基本信息展示
- 中部分为考勤统计区域和计件统计区域
- 底部提供数据筛选和导出功能

### 6.2 考勤统计功能
- 展示司机在该仓库的详细考勤记录
- 支持查看具体出勤日期、上下班时间
- 自动计算工作时长并标注异常情况
- 统计迟到、早退次数及时长

### 6.3 计件统计功能
- 展示司机在该仓库的计件工作数据
- 按计件类型分类统计完成数量
- 显示各类型计件单价和对应收入
- 提供总计件数和总金额汇总

### 6.4 数据筛选
- 支持按日期范围自定义筛选
- 提供快捷时间选项（今日、本周、本月）
- 数据实时更新，筛选结果即时展示

## 7. 计件管理功能模块
### 7.1 核心数据字段
- 件数（必填项）：记录具体的计件数量
- 单价（必填项）：每件商品的基础单价
- 品类（必填项）：商品分类，可由管理员预设
- 是否需要上楼（默认值为「否」）：标识是否需要额外的上楼服务
- 上楼单价（当选择需要上楼时必填）：上楼服务的额外费用
- **精确时间记录**：支持记录具体的工作时间（小时:分钟格式）
- **费用明细组成**：自动计算并显示基础费用、上楼费用、总费用的详细组成

### 7.2 功能实现要求
- **前端界面权限控制**
  - 根据管理员角色动态显示或隐藏对应的操作按钮（如「新增」、「编辑」、「删除」）
  - 错误管理端界面不显示任何编辑、删除按钮
- **二次确认机制**
  - 二次确认弹窗需清晰提示即将删除的数据内容，并确认操作
  - 删除确认对话框包含具体删除内容的详细信息
- **驾驶员姓名端计件数据录入界面**
  - 提供所有核心数据字段的输入表单
  - 品类下拉选择（由管理员预设）
  - 上楼选项联动显示上楼单价输入框
  - 时间选择器支持精确到分钟的时间录入
  - 自动计算总金额（件数×单价+上楼费用）
  - 实时显示费用明细组成
  - 支持修改已录入的计件记录（仅限本人数据）
  - 提供数据确认和提交功能
- **管理端数据查看功能**
  - 基于管理员权限的数据范围控制
  - 支持按仓库、日期、品类等维度筛选
  - 只读模式展示司机计件数据
  - **记录详情弹窗功能**：点击记录弹出详情窗口，展示完整信息
- **统计和报表生成**
  - 计件数量统计
  - 收入金额统计
  - 品类分布统计
  - 上楼服务统计

### 7.3 数据库结构设计
- 计件记录表：包含件数、单价、品类、是否上楼、上楼单价、总金额、创建时间、修改时间、**精确工作时间**、仓库ID、司机ID、确认状态等字段
- 品类管理表：存储品类名称、状态等信息
- 权限关联表：管理员与仓库的关联关系
- 管理员权限表：存储管理员角色和对应权限配置
- **操作日志表**：记录司机对计件记录的修改和删除操作，包含操作类型、操作时间、操作前后数据对比等
- **数据备份表**：保存被删除记录的完整信息，支持数据恢复功能
- **请假申请表**：包含申请ID、司机ID、请假类型、开始时间、结束时间、**计算天数**、请假事由、附件路径、申请状态、提交时间、审批时间、审批人ID、审批意见、**申请方式**（快捷/标准/补假）、**申请月份**等字段
- **离职申请表**：包含申请ID、司机ID、预计离职日期、离职原因、工作交接说明、申请状态、提交时间、审批时间、审批人ID、审批意见等字段
- **审批流程表**：记录审批操作的详细流程，包含申请ID、申请类型、审批人ID、审批操作、审批时间、审批意见、操作IP等字段
- **草稿申请表**：包含草稿ID、司机ID、申请类型、草稿内容（JSON格式）、保存时间、最后修改时间等字段
- **仓库管理员关联表**：记录仓库与管理员的分配关系，包含仓库ID、管理员ID、分配时间、状态等字段
- **仓库规则配置表（升级）**：包含仓库ID、请假天数上限、**月度累计上限**、离职提前天数、规则生效时间、创建时间、修改时间、操作人员等字段
- **规则变更日志表（新增）**：记录仓库规则的所有变更历史，包含变更ID、仓库ID、变更类型、变更前值、变更后值、变更时间、操作人员等字段
- **月度请假统计表（新增）**：记录每个司机每月的请假天数统计，包含司机ID、年月、累计请假天数、更新时间等字段
- **安全验证日志表（新增）**：记录所有安全验证操作，包含管理员ID、操作类型、验证结果、操作时间、IP地址、失败次数等字段
- **审批监控记录表（新增）**：专门记录超级管理员查看的审批记录，包含记录ID、申请ID、申请类型、申请人ID、司机ID、审批人ID、审批状态、创建时间、更新时间、查看次数等字段
- **考勤记录表（新增）**：包含考勤ID、司机ID、仓库ID、打卡日期、上班时间、下班时间、工作时长、考勤状态（正常/迟到/早退/缺勤）、迟到时长、早退时长、创建时间等字段
- **考勤统计表（新增）**：包含统计ID、司机ID、仓库ID、统计月份、出勤天数、请假天数、迟到天数、缺勤天数、出勤率、请假率、迟到率、更新时间等字段
- **司机个人信息表（升级）**：包含司机ID、姓名、姓名/昵称、手机号、密码、车牌号、邮箱、联系地址、紧急联系人姓名、紧急联系人电话号码、驾驶证号码、头像路径、信息状态、审核状态、创建时间、更新时间等字段
- **信息修改日志表（新增）**：记录司机个人信息的所有修改历史，包含日志ID、司机ID、修改字段、修改前值、修改后值、修改时间、验证方式等字段
- **反馈记录表（新增）**：包含反馈ID、司机ID、反馈类型、问题描述、截图路径、联系方式、反馈状态、提交时间、处理时间、回复内容、处理人员等字段
- **月度考勤统计表（新增）**：包含统计ID、司机ID、仓库ID、统计年月、出勤天数、请假天数、剩余可申请天数、统计更新时间等字段，专门为请假申请仪表台提供数据支持

## 8. 驾驶员姓名端快捷请假功能详细设计
### 8.1 快捷请假界面设计
- **滚轮选择器实现**
  - 采用微信小程序原生picker-view组件实现滚轮效果
  - 天数选择范围：1-年龄天，支持滚动选择
  - 滚轮样式：中间选中项高亮显示，上下项目半透明
  - 选择过程中实时显示对应的结束日期
- **智能日期计算**
  - **默认起始日期**：自动设置为当前日期的第二天
  - **结束日期计算**：起始日期 + 选择天数 - 1天
  - **工作日提示**：显示所选时间段包含的工作日天数
  - **节假日标识**：如果包含法定节假日，特别标注
- **天数限制验证**
  - 实时检查选择天数是否超过仓库设置的上限
  - **月度累计验证**：检查当月已请假天数+本次申请天数是否超过月度上限
  - 超过上限时滚轮选择器显示红色警告
  - 提示信息：「超过X天需要标准申请流程」或「本月累计将超过限制」
- **一键提交功能**
  - 选择天数后显示「一键请假」按钮
  - 点击后弹出确认对话框，显示请假详情
  - 确认后直接提交申请，无需填写详细表单

### 8.2 补请假功能详细设计
- **历史日期选择器**
  - 支持选择当天及之前最多年龄天的日期
  - 日期选择器禁用未来日期
  - 已请假的日期显示灰色不可选状态
- **补假申请表单**
  - **补假标识**：页面顶部显示「补请假申请」标题
  - **必填字段**：
    - 补假日期范围（起始日期不能晚于当天）
    - 补假原因（必填，下拉选择：突发疾病、家庭紧急事务、交通意外等）
    - 详细说明（必填，文本框，最少20字）
    - 证明材料（可选，支持上传图片）
  - **特殊验证**：
    - 补假天数同样受仓库设置上限限制
    - **月度累计验证**：补假同样计入月度累计天数
    - 补假申请需要更详细的说明和理由
- **补假审批流程**
  - 补假申请在审批列表中带有「补假」特殊标识
  - 审批时系统自动提醒管理员这是补假申请
  - 补假申请的审批记录单独统计

### 8.3 离职功能优化详细设计
- **智能日期限制**
  - 根据司机所属仓库的设置，自动计算最早可选离职日期
  - 公式：当前日期 + 仓库设置的提前天数 = 最早离职日期
  - 日期选择器自动禁用不符合要求的日期
- **提前天数提示**
  - 页面顶部显示：「根据仓库规定，离职申请需提前X天」
  - 显示最早可选日期：「最早可选离职日期：YYYY-MM-DD」
  - 如果选择了不符合要求的日期，显示红色错误提示
- **特殊情况处理**
  - 提供「紧急离职」选项，可选择提前天数不足的日期
  - 紧急离职需要填写紧急原因和详细说明
  - 紧急离职申请需要更高级别的审批权限

## 9. 设计风格
### 9.1 配色方案
主色调采用深蓝色(#1E3A8A)，辅助色为橙色(#F97316)，背景色为浅灰色(#F8FAFC)，警告色为红色(#EF4444)，成功色为绿色(#10B981)，安全验证色为紫色(#8B5CF6)，考勤数据色为青色(#06B6D4)，个人中心色为靛蓝色(#4F46E5)，头像上传色为粉色(#EC4899)，系统设置色为深紫色(#7C3AED)，退出登录色为红色(#EF4444)，请假仪表台采用渐变配色方案：出勤卡片为绿色渐变(#ECFDF5到#D1FAE5)，请假卡片为橙色渐变(#FFF7ED到#FED7AA)，剩余卡片为紫色渐变(#FAF5FF到#E9D5FF)

### 9.2 视觉细节
采用8px圆角设计，卡片式布局带有轻微阴影效果，图标风格统一使用线性图标，滚轮选择器采用渐变透明效果，安全验证界面采用特殊的渐变背景，审批监控界面采用清晰的层级结构和统一的间距规范，考勤数据图表采用现代化的渐变色彩，个人中心界面采用简洁的表单设计和清晰的状态反馈，头像裁剪工具采用圆形蒙版和实时预览效果，系统设置界面采用分组卡片布局和统一的开关控件样式，快捷功能界面采用中心辐射式五功能环绕布局和统一的阴影层次，底部导航栏采用简洁的图标和文字组合设计，退出登录按钮采用醒目的红色背景和圆角设计，请假申请仪表台采用三列卡片式布局，每个卡片具有独特的渐变背景和统一的12px圆角设计，数值采用大号字体(32px)突出显示，配合相应的彩色图标和清晰的标题文字

### 9.3 整体布局
采用卡片式布局，顶部导航栏固定，内容区域可滚动，底部标签栏区分不同角色入口，快捷功能界面采用中心圆形图标配合环绕式五功能布局，底部导航栏固定在页面底部提供快捷入口，退出登录按钮独立放置在页面最下方，安全验证弹窗采用居中模态设计，审批监控界面采用上下分区的布局结构，考勤数据统计采用网格式布局展示多维度数据，个人中心采用列表式布局便于信息查看和编辑，头像管理采用居中展示和底部操作按钮的布局方式，系统设置采用分组列表布局便于功能分类管理，请假申请仪表台采用顶部固定布局，位于请假申请页面的最上方，三个统计卡片水平排列，每个卡片占据相等的宽度，卡片之间保持适当间距，整体形成统一的信息展示区域

## 参考文件
1. 管理员上传图片：image.png
2. 管理员上传图片：image.png
3. 管理员上传图片：91d085bdc18d8331089497ba796ebc12.jpg
4. 管理员上传图片：91d085bdc18d8331089497ba796ebc12.jpg
5. 管理员上传图片：91d085bdc18d8331089497ba796ebc12.jpg
6. 管理员上传图片：image.png
# 司机通知功能模块需求文档

## 1. 功能概述
### 1.1 模块名称
司机通知功能模块及电脑端网页后台管理系统

### 1.2 功能描述
为老板和车队长端的通知中心开发的司机通知功能模块，包含通知中心和发送通知两个核心页面。同时新增电脑端网页后台管理系统，用于数据查看和管理。通知中心用于展示和管理收到的通知，发送通知页面用于创建和发送通知给司机，支持批量发送、快捷模板管理、定时发送和智能提醒功能，帮助企业管理层高效沟通司机。

## 2. 核心功能
### 2.1 司机端通知功能
- **通知接收**：司机端接收来自老板和车队长的通知
- **小铃铛提醒**：点击小铃铛图标进入通知中心查看通知
- **通知查看**：查看通知具体内容和发送详情
- **阅读状态**：显示通知阅读状态（已读/未读）

### 2.2 系统功能模块
#### 2.2.1 通知中心页面功能
- **通知列表展示**：按时间倒序展示所有接收的通知，包含通知标题、发送时间、状态标识
- **通知状态管理**：显示通知阅读状态（已读/未读），支持一键标记为已读
- **搜索筛选**：支持按通知内容、发送时间、状态进行搜索和筛选
- **详情查看**：点击通知可查看完整内容和发送详情
- **重要标记**：支持对重要通知进行星标标记，便于快速查找
- **批量操作**：支持批量删除、批量标记已读功能

#### 2.2.2 发送通知页面功能
- **批量通知发送**：支持向单个或多个司机批量发送通知
- **快捷模板管理**：支持创建和添加常用通知信息模板，一键发送
- **通知编辑器**：提供富文本编辑功能，支持文字格式化和链接插入

### 2.3 定时与智能提醒功能
- **定时发送**：支持设置未来的具体时间点自动发送通知
- **智能打卡提醒**：在设定的打卡检查时间点，自动判断司机是否已完成打卡，未打卡者自动收到提醒通知
- **智能计件提醒**：在设定的计件检查时间点，自动判断司机是否已上报计件，未上报者自动收到提醒通知

### 2.4 管理与操作需求
- **司机选择器**：支持按仓库、班组、车型等条件筛选和选择目标司机群体
- **模板库**：分类展示预设的通知模板，支持快速选择和自定义编辑
- **发送配置面板**：统一界面管理收件人、通知内容、发送时间等参数
- **发送记录查询**：支持按时间范围、收件人、通知内容等条件查询历史发送记录
- **状态监控**：实时显示通知发送状态（已发送、已读、未读等）

### 2.5 电脑端网页后台管理系统
#### 2.5.1 仓库配置管理
- **仓库添加**：创建新的仓库信息，设置仓库基础资料
- **仓库编辑**：修改仓库名称、地址、联系人等详细信息
- **仓库禁用/启用**：支持临时关闭或重新启用仓库功能
- **仓库删除**：删除不需要的仓库记录
- **仓库列表展示**：以表格形式展示所有仓库信息，包含状态标识

#### 2.5.2 用户管理
- **司机管理**：
  - **添加司机**：录入司机基本信息、联系方式、所属仓库等
  - **编辑司机资料**：修改司机姓名、电话、证件信息等
  - **司机状态管理**：支持启用/禁用司机账户
  - **删除司机**：移除不需要的司机记录
  - **司机列表**：展示所有司机信息，包含姓名、电话、所属仓库、状态等
- **管理员管理**：
  - **添加管理员**：创建新的管理员账户，设置权限角色
  - **编辑管理员信息**：修改管理员姓名、联系方式、权限范围
  - **管理员状态管理**：支持启用/禁用管理员账户
  - **删除管理员**：移除不需要的管理员记录
  - **管理员列表**：展示所有管理员信息，包含姓名、角色、权限范围、状态等

#### 2.5.3 件数报表
- **统计数据展示**：以图表和表格形式展示件数统计信息
- **时间维度分析**：支持按日、周、月查看件数趋势
- **筛选功能**：按仓库、司机、时间范围筛选数据
- **导出功能**：支持将报表数据导出为Excel或PDF格式

#### 2.5.4 考勤管理
- **考勤记录查看**：展示司机打卡记录，包含打卡时间、状态
- **考勤统计**：按时间段统计出勤情况
- **异常处理**：标记和处理考勤异常记录
- **考勤报表**：生成考勤统计报表，支持按部门、个人查看
- **请假管理**：查看和审批司机请假申请

## 3. 系统逻辑流程
### 3.1 批量通知发送流程
1. 选择目标司机（单选或多选）
2. 编辑通知内容或选择模板
3. 设置发送时间（立即发送或定时）
4. 点击发送按钮
5. 系统记录发送信息并推送通知

### 3.2 智能提醒逻辑
1. 系统定时器到达预设检查时间
2. 查询相关司机的打卡/计件状态
3. 筛选出未完成任务的司机
4. 自动生成提醒内容并发送通知
5. 记录提醒日志

### 3.3 通知接收流程
1. 司机端接收到新通知
2. 系统自动标记为未读状态
3. 在通知中心列表展示
4. 支持点击查看和标记已读

### 3.4 仓库配置流程
1. 点击添加仓库按钮
2. 填写仓库名称、地址、联系人信息
3. 保存仓库配置
4. 支持编辑、禁用、删除仓库操作

### 3.5 用户管理流程
1. 司机管理：添加新司机、编辑司机资料、启用/禁用账户、删除司机
2. 管理员管理：创建管理员账户、设置权限、状态管理、删除管理员
3. 用户搜索和筛选：按条件快速定位特定用户

## 4. 用户界面布局
### 4.1 司机端界面
- **顶部导航栏**：包含小铃铛图标，点击进入通知中心
- **通知提示**：新通知时显示红点提示

### 4.2 系统功能界面布局
#### 4.2.1 通知中心页面
- **顶部工具栏**：包含搜索框、状态筛选、标记全部已读功能
- **通知列表区**：采用卡片式布局展示通知项目
- **底部统计栏**：显示未读通知数量和总通知数

#### 4.2.2 发送通知主操作界面
- **顶部工具栏**：包含新建通知、模板管理、发送记录等功能入口
- **左侧筛选区**：司机选择器、仓库筛选、角色筛选等条件过滤
- **中央编辑区**：通知内容编辑器、收件人列表预览
- **底部操作栏**：发送时间设置、发送按钮、重置按钮

#### 4.2.3 模板管理界面
- **模板列表**：分类展示常用通知模板
- **模板编辑器**：支持创建、编辑和删除模板
- **模板变量**：支持预设占位符（司机姓名、任务编号等）

#### 4.2.4 发送记录界面
- **记录表格**：展示发送时间、收件人、通知内容、状态等信息
- **状态标识**：不同颜色标识通知状态（已发送、已读、未读）
- **筛选工具**：按时间、状态、收件人快速筛选记录

### 4.3 电脑端后台管理界面布局
#### 4.3.1 顶部导航栏
- **Logo区域**：系统名称和品牌标识
- **用户信息**：当前登录管理员的姓名、角色
- **功能菜单**：仓库配置、用户管理、件数报表、考勤管理等主要功能入口
- **操作按钮**：搜索、帮助、设置、退出等常用操作

#### 4.3.2 左侧导航菜单
- **固定导航**：仓库配置、用户管理、件数报表、考勤管理
- **二级菜单**：各主要功能下的子模块
- **权限控制**：根据管理员角色显示不同的菜单项

#### 4.3.3 主内容区域
- **面包屑导航**：当前位置路径显示
- **主体内容**：根据不同功能展示相应的数据表格、图表或表单
- **工具栏**：新增、搜索、筛选、导出等常用操作按钮
- **数据列表**：采用表格形式展示数据，支持排序和分页
- **统计图表**：饼图、柱状图、折线图等可视化展示

#### 4.3.4 仓库配置界面
- **仓库列表**：以表格形式展示所有仓库信息
- **操作按钮**：每行仓库记录右侧显示编辑、禁用/启用、删除按钮
- **新增仓库弹窗**：包含仓库名称、地址、联系人等必填字段
- **编辑弹窗**：与新增弹窗类似，但显示当前仓库信息可修改

#### 4.3.5 用户管理界面
- **用户列表**：展示用户基本信息，包含姓名、电话、角色、所属仓库、状态等
- **筛选工具**：仓库筛选、角色筛选、状态筛选
- **搜索功能**：支持按用户名、电话快速搜索
- **用户操作**：编辑、启用/禁用、删除等快捷操作
- **添加用户弹窗**：包含用户基本信息录入表单

#### 4.3.6 件数报表界面
- **时间选择器**：支持按日、周、月选择统计周期
- **仓库筛选**：按仓库维度查看数据
- **统计图表区**：展示件数趋势变化
- **数据表格**：详细展示各项统计数据
- **导出功能**：提供多种格式的数据导出选项

#### 4.3.7 考勤管理界面
- **考勤记录列表**：展示司机打卡时间和状态
- **考勤统计图表**：以图形化方式展示出勤率
- **异常记录**：标记和处理考勤异常情况
- **请假管理**：查看和审批请假申请
- **筛选工具**：按时间、仓库、司机快速筛选考勤数据

## 5. 关键交互点
### 5.1 司机选择交互
- 支持多选框选择司机
- 提供搜索功能快速定位特定司机
- 显示司机基本信息（姓名、手机号、所属仓库）
- 支持按组织架构树形展开选择

### 5.2 智能定时器配置
- **定时器设置**：支持每日、每周、每月等周期性定时
- **时间选择器**：直观的时间选择控件
- **预设时间**：提供常用时间段快捷选择
- **倒计时显示**：实时显示下次定时任务剩余时间

### 5.3 消息推送机制
- **即时推送**：通知发送后立即推送至司机端
- **离线存储**：用户离线时暂存消息，连接恢复后补发
- **阅读状态跟踪**：实时更新通知阅读状态
- **批量处理**：支持批量发送和状态批量更新

### 5.4 后台数据操作交互
- **表格操作**：点击行可编辑，支持批量选择和操作
- **快速搜索**：输入关键词自动筛选数据
- **筛选器**：多条件组合筛选，支持重置筛选条件
- **分页显示**：大数据量时采用分页展示，支持每页显示数量调整
- **数据导出**：点击导出按钮可选择导出格式

## 6. 设计风格
### 6.1 配色方案
- 主色调：蓝色系渐变（#1890ff到#4a90e2），体现专业可靠
- 强调色：橙色（#ff7a45）用于重要操作按钮
- 成功提示：绿色（#52c41a），错误提示：红色（#ff4d4f）
- 背景色：浅灰色（#f5f5f5）作为主要背景色

### 6.2 视觉细节
- 圆角设计：统一使用4px圆角，营造现代商务感
- 卡片阴影：轻微阴影效果增强层次感
- 图标风格：线性图标配合填充图标，保持视觉一致性
- 按钮样式：主要按钮采用填充样式，次要按钮采用边框样式

### 6.3 整体布局
- 左侧导航栏：固定显示功能菜单，适配不同屏幕尺寸
- 主内容区：采用卡片式布局，信息层次清晰
- 响应式设计：适配不同电脑屏幕分辨率，确保操作便捷性
- 表格样式：斑马纹行背景，悬停高亮效果，选中状态标识
- 图表设计：采用Ant Design图表组件，数据展示清晰直观
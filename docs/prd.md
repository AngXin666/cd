# 司机通知功能模块需求文档

## 1. 功能概述
### 1.1 模块名称
司机通知功能模块

### 1.2 功能描述
为老板和车队长端的通知中心开发的司机通知功能模块，支持批量发送通知、快捷模板管理、定时发送和智能提醒功能，帮助企业管理层高效沟通司机。

## 2. 核心功能
### 2.1 通知发送核心功能
- **批量通知发送**：支持向单个或多个司机批量发送通知\n- **快捷模板管理**：支持创建和添加常用通知信息模板，一键发送
- **通知编辑器**：提供富文本编辑功能，支持文字格式化和链接插入

### 2.2 定时与智能提醒功能
- **定时发送**：支持设置未来的具体时间点自动发送通知
- **智能打卡提醒**：在设定的打卡检查时间点，自动判断司机是否已完成打卡，未打卡者自动收到提醒通知
- **智能计件提醒**：在设定的计件检查时间点，自动判断司机是否已上报计件，未上报者自动收到提醒通知

### 2.3 管理与操作需求
- **司机选择器**：支持按仓库、班组、车型等条件筛选和选择目标司机群体
- **模板库**：分类展示预设的通知模板，支持快速选择和自定义编辑
- **发送配置面板**：统一界面管理收件人、通知内容、发送时间等参数
- **发送记录查询**：支持按时间范围、收件人、通知内容等条件查询历史发送记录
- **状态监控**：实时显示通知发送状态（已发送、已读、未读等）

## 3. 系统逻辑流程
### 3.1 批量通知发送流程
1. 选择目标司机（单选或多选）
2. 编辑通知内容或选择模板
3. 设置发送时间（立即发送或定时）
4. 点击发送按钮
5. 系统记录发送信息并推送通知

### 3.2 智能提醒逻辑
1. 系统定时器到达预设检查时间
2. 查询相关司机的打卡/计件状态
3. 筛选出未完成任务的司机
4. 自动生成提醒内容并发送通知
5. 记录提醒日志

## 4. 用户界面布局
### 4.1 主操作界面
- **顶部工具栏**：包含新建通知、模板管理、发送记录等功能入口
- **左侧筛选区**：司机选择器、仓库筛选、角色筛选等条件过滤
- **中央编辑区**：通知内容编辑器、收件人列表预览
- **底部操作栏**：发送时间设置、发送按钮、重置按钮

### 4.2 模板管理界面
- **模板列表**：分类展示常用通知模板
- **模板编辑器**：支持创建、编辑和删除模板
- **模板变量**：支持预设占位符（司机姓名、任务编号等）

### 4.3 发送记录界面
- **记录表格**：展示发送时间、收件人、通知内容、状态等信息
- **状态标识**：不同颜色标识通知状态（已发送、已读、未读）
- **筛选工具**：按时间、状态、收件人快速筛选记录

## 5. 关键交互点
### 5.1 司机选择交互
- 支持多选框选择司机
- 提供搜索功能快速定位特定司机
- 显示司机基本信息（姓名、手机号、所属仓库）
- 支持按组织架构树形展开选择

### 5.2 智能定时器配置
- **定时器设置**：支持每日、每周、每月等周期性定时
- **时间选择器**：直观的时间选择控件
- **预设时间**：提供常用时间段快捷选择
- **倒计时显示**：实时显示下次定时任务剩余时间

### 5.3 消息推送机制
- **即时推送**：通知发送后立即推送至司机端
- **离线存储**：用户离线时暂存消息，连接恢复后补发
- **阅读状态跟踪**：实时更新通知阅读状态
- **批量处理**：支持批量发送和状态批量更新

## 6. 设计风格
### 6.1 配色方案
- 主色调：蓝色系渐变（#1890ff到#4a90e2），体现专业可靠
- 强调色：橙色（#ff7a45）用于重要操作按钮
- 成功提示：绿色（#52c41a），错误提示：红色（#ff4d4f）

### 6.2 视觉细节
- 圆角设计：统一使用4px圆角，营造现代商务感
- 卡片阴影：轻微阴影效果增强层次感
- 图标风格：线性图标配合填充图标，保持视觉一致性

### 6.3 整体布局
- 左侧导航栏：固定显示司机筛选和功能切换
- 主内容区：采用卡片式布局，信息层次清晰
- 响应式设计：适配不同屏幕尺寸，确保操作便捷性
# 请假审批功能使用指南

## 一、功能入口

### 超级管理员
**访问路径：** 超级管理员后台 → 请假审批

### 普通管理员
**访问路径：** 管理员后台 → 请假审批

## 二、主要功能

### 2.1 司机请假统计总览

**功能说明：**
- 查看所有司机的请假天数总览
- 按仓库筛选司机
- 查看统计数据：司机总数、请假总天数、待审批数量

**操作步骤：**
1. 进入请假审批管理页面
2. 查看顶部统计卡片，了解整体情况
3. 浏览司机列表，查看每个司机的请假统计

**司机卡片信息：**
- 司机姓名和所属仓库
- 待审批数量（如有）
- 请假天数（已通过的申请）
- 请假次数
- 离职申请次数

### 2.2 按仓库筛选

**功能说明：**
- 选择特定仓库查看该仓库下的司机
- 超级管理员可以选择所有仓库
- 普通管理员只能选择其管辖的仓库

**操作步骤：**
1. 点击"选择仓库"下拉框
2. 选择要查看的仓库
3. 系统自动更新司机列表

**提示：**
- 选择"全部仓库"可以查看所有司机
- 筛选后统计数据会自动更新

### 2.3 查看司机详细记录

**功能说明：**
- 查看司机的所有请假申请记录
- 查看司机的所有离职申请记录
- 查看完整的审批历史

**操作步骤：**
1. 在司机列表中找到目标司机
2. 点击司机卡片
3. 进入司机详情页
4. 切换"请假申请"和"离职申请"标签查看不同类型的申请

**详情页信息：**
- 司机基本信息
- 请假天数、请假次数、离职申请次数
- 待审批提示（如有）
- 所有请假申请记录
- 所有离职申请记录

### 2.4 审批申请

**功能说明：**
- 审批待审批的请假申请
- 审批待审批的离职申请
- 记录审批人和审批时间

**操作步骤：**
1. 进入司机详情页
2. 找到待审批的申请（橙色标签）
3. 查看申请详情
4. 点击"通过"或"驳回"按钮
5. 在确认对话框中点击"确定"
6. 系统显示操作结果

**注意事项：**
- 审批操作不可撤销，请仔细核对信息
- 审批后会自动记录审批人和审批时间
- 审批后申请状态会立即更新

### 2.5 查看审批历史

**功能说明：**
- 查看已审批申请的审批记录
- 查看审批人、审批时间、审批意见

**操作步骤：**
1. 进入司机详情页
2. 查看已通过或已驳回的申请
3. 在申请卡片底部查看"审批记录"区域

**审批记录信息：**
- 审批人姓名
- 审批时间（精确到分钟）
- 审批意见

## 三、界面说明

### 3.1 请假审批管理页面

#### 页面顶部
- **标题卡片**：显示页面名称和用户角色
- **统计卡片**：显示司机总数、请假总天数、待审批数量

#### 仓库筛选
- **选择仓库**：下拉选择器，可选择全部仓库或特定仓库

#### 司机列表
- **司机卡片**：显示每个司机的请假统计
  - 司机姓名和所属仓库
  - 待审批数量（红色标签）
  - 请假天数（橙色）
  - 请假次数（蓝色）
  - 离职申请次数（紫色）
  - "查看详细记录"提示

### 3.2 司机详情页面

#### 页面顶部
- **返回按钮**：返回司机列表
- **司机信息卡片**：显示司机姓名和统计数据

#### 待审批提示
- **橙色提示框**：显示待审批的申请数量（如有）

#### 标签切换
- **请假申请**：显示所有请假申请记录
- **离职申请**：显示所有离职申请记录

#### 申请列表
- **申请卡片**：显示每条申请的详细信息
  - 标题栏：申请类型和状态
  - 所属仓库
  - 请假时间/离职日期
  - 请假事由/离职原因
  - 申请时间
  - 审批记录（已审批申请）
  - 操作按钮（待审批申请）

## 四、权限说明

### 4.1 超级管理员权限
- ✅ 可以查看所有仓库的数据
- ✅ 可以选择任意仓库进行筛选
- ✅ 可以查看所有司机的请假记录
- ✅ 可以审批所有申请
- ✅ 可以查看所有历史审批记录

### 4.2 普通管理员权限
- ✅ 可以查看其管辖仓库的数据
- ✅ 可以选择其管辖的仓库进行筛选
- ✅ 可以查看其管辖仓库下司机的请假记录
- ✅ 可以审批其管辖范围内的申请
- ✅ 可以查看其管辖范围内的历史审批记录

**注意：** 普通管理员和超级管理员在功能上完全一致，唯一区别是数据范围。

## 五、常见问题

### Q1：如何查看某个司机的所有请假记录？
**A：** 在司机列表中找到该司机，点击司机卡片进入详情页，即可查看该司机的所有请假申请和离职申请记录。

### Q2：如何查看某个仓库的所有司机？
**A：** 点击"选择仓库"下拉框，选择目标仓库，系统会自动显示该仓库下的所有司机。

### Q3：如何查看待审批的申请？
**A：** 在司机列表中，有待审批申请的司机会显示红色的"X 待审批"标签。点击进入详情页，找到橙色"待审批"标签的申请即可。

### Q4：如何审批申请？
**A：** 进入司机详情页，找到待审批的申请，点击"通过"或"驳回"按钮，在确认对话框中点击"确定"即可。

### Q5：审批后可以撤销吗？
**A：** 当前版本不支持撤销审批，请谨慎操作。审批前会有确认对话框。

### Q6：如何查看历史审批记录？
**A：** 进入司机详情页，查看已通过或已驳回的申请，在申请卡片底部可以看到"审批记录"区域。

### Q7：请假天数是如何计算的？
**A：** 系统自动计算从开始日期到结束日期的天数（包含首尾两天）。只统计已通过的申请。

### Q8：普通管理员可以查看其他仓库的数据吗？
**A：** 不可以。普通管理员只能查看其管辖仓库的数据。

### Q9：为什么有些司机没有显示在列表中？
**A：** 可能是因为该司机没有提交过请假或离职申请，或者该司机不属于当前筛选的仓库。

### Q10：如何返回司机列表？
**A：** 在司机详情页点击左上角的"返回"按钮，或使用系统返回键。

## 六、操作技巧

### 技巧1：快速查看待审批申请
1. 查看司机列表
2. 找到有红色"待审批"标签的司机
3. 点击进入详情页
4. 直接审批待审批的申请

### 技巧2：按仓库查看司机
1. 使用仓库筛选功能
2. 选择特定仓库
3. 查看该仓库下所有司机的请假情况

### 技巧3：查看司机整体请假情况
1. 在司机列表中查看统计数据
2. 请假天数、请假次数、离职申请次数一目了然
3. 无需进入详情页即可了解整体情况

### 技巧4：定期检查
1. 每天查看待审批数量（顶部统计卡片）
2. 及时处理待审批申请
3. 避免申请积压

### 技巧5：查看详细信息
1. 点击司机卡片进入详情页
2. 查看所有历史申请记录
3. 了解司机的请假模式和频率

## 七、注意事项

### 审批操作
- ⚠️ 审批操作不可撤销，请仔细核对信息后再操作
- ⚠️ 审批前会弹出确认对话框，请认真阅读
- ⚠️ 审批后会自动记录审批人和审批时间

### 数据查看
- ℹ️ 请假天数只统计已通过的申请
- ℹ️ 待审批数量包括请假申请和离职申请
- ℹ️ 普通管理员只能查看其管辖仓库的数据

### 数据刷新
- ℹ️ 审批后会自动刷新数据
- ℹ️ 页面显示时会自动加载最新数据
- ℹ️ 如需手动刷新，可以重新进入页面

### 权限限制
- ℹ️ 普通管理员只能查看和审批其管辖仓库的申请
- ℹ️ 超级管理员可以查看和审批所有申请
- ℹ️ 司机只能查看和提交自己的申请

## 八、快捷操作流程

### 流程1：日常审批流程
```
进入请假审批管理页面
  ↓
查看待审批数量
  ↓
找到有待审批标记的司机
  ↓
点击进入司机详情页
  ↓
查看待审批申请详情
  ↓
点击"通过"或"驳回"
  ↓
确认操作
  ↓
完成审批
```

### 流程2：查看司机请假情况
```
进入请假审批管理页面
  ↓
选择仓库（可选）
  ↓
浏览司机列表
  ↓
点击目标司机卡片
  ↓
查看详细记录
```

### 流程3：按仓库查看数据
```
进入请假审批管理页面
  ↓
点击"选择仓库"
  ↓
选择目标仓库
  ↓
查看该仓库下的司机列表
  ↓
点击司机卡片查看详情
```

## 九、界面截图说明

### 司机列表页面
- 顶部显示统计数据
- 中间显示仓库筛选
- 底部显示司机列表
- 每个司机卡片显示统计信息

### 司机详情页面
- 顶部显示司机信息和统计
- 中间显示待审批提示（如有）
- 标签切换请假申请和离职申请
- 底部显示申请列表

### 申请卡片
- 标题栏显示类型和状态
- 中间显示详细信息
- 底部显示审批记录或操作按钮

## 十、联系支持

如果在使用过程中遇到问题，请联系技术支持团队。

---

**版本：** 2.0  
**更新日期：** 2024-01-15  
**适用角色：** 超级管理员、普通管理员

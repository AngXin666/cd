# 仓库切换功能使用指南

## 功能简介

为了方便管理员按仓库查看和管理司机，我们在双管理员端（普通管理员和超级管理员）的司机管理页面添加了仓库切换功能。现在，管理员可以清楚地知道每个司机属于哪个仓库，并且可以快速切换查看不同仓库的司机。

## 使用场景

### 场景1：普通管理员查看负责仓库的司机
- 普通管理员负责多个仓库
- 需要查看某个仓库的司机列表
- 需要了解每个仓库的司机数量

### 场景2：超级管理员管理所有仓库的司机
- 超级管理员管理所有仓库
- 需要按仓库查看司机分布情况
- 需要了解每个仓库的司机数量

## 功能特点

### 1. 滑动切换
- 左右滑动即可切换仓库
- 流畅的切换动画
- 指示点显示当前位置

### 2. 实时过滤
- 切换仓库后，司机列表立即更新
- 只显示当前仓库的司机
- 搜索功能与仓库过滤兼容

### 3. 数量统计
- 显示当前仓库的司机数量
- 显示每个仓库的司机数量（在仓库卡片上）
- 方便管理员了解司机分布情况

### 4. 智能显示
- 只有一个仓库时，不显示切换器
- 没有仓库时，显示所有司机
- 管理员管理标签页不显示切换器（仅超级管理员端）

## 使用步骤

### 普通管理员端

1. **进入司机管理页面**
   - 从管理员首页点击"司机管理"

2. **查看仓库切换器**
   - 如果有多个仓库，会在搜索框上方看到仓库切换器
   - 显示当前仓库名称和司机数量

3. **切换仓库**
   - 方式1：左右滑动切换仓库
   - 方式2：点击底部指示点快速切换

4. **查看司机列表**
   - 司机列表会自动根据选中的仓库过滤显示
   - 顶部显示当前仓库的司机数量

5. **搜索司机**
   - 在当前仓库内搜索司机
   - 搜索结果只包含当前仓库的司机

### 超级管理员端

1. **进入用户管理页面**
   - 从超级管理员首页点击"用户管理"

2. **切换到司机管理标签页**
   - 点击"司机管理"标签

3. **查看仓库切换器**
   - 如果有多个仓库，会在搜索框下方看到仓库切换器
   - 显示当前仓库名称和司机数量

4. **切换仓库**
   - 方式1：左右滑动切换仓库
   - 方式2：点击底部指示点快速切换

5. **查看司机列表**
   - 司机列表会自动根据选中的仓库过滤显示
   - 顶部显示当前仓库的司机数量

6. **搜索司机**
   - 在当前仓库内搜索司机
   - 搜索结果只包含当前仓库的司机

7. **切换到管理员管理标签页**
   - 点击"管理员管理"标签
   - 仓库切换器会自动隐藏（管理员不需要按仓库过滤）

## 界面说明

### 仓库切换器布局

```
┌─────────────────────────────────────────┐
│ 🏢 选择仓库  (1/3)         5 名司机      │
├─────────────────────────────────────────┤
│                                         │
│    🏢  北京仓库 (5人)                    │
│                                         │
│         ● ○ ○                           │
└─────────────────────────────────────────┘
```

### 信息说明
- **选择仓库**: 标题
- **(1/3)**: 当前仓库索引/总仓库数
- **5 名司机**: 当前仓库的司机数量
- **北京仓库**: 仓库名称
- **(5人)**: 该仓库的司机数量
- **● ○ ○**: 指示点，显示当前位置

## 常见问题

### Q1: 为什么看不到仓库切换器？
**A**: 可能的原因：
1. 只有一个仓库（单仓库时不显示切换器）
2. 没有仓库（显示所有司机）
3. 在管理员管理标签页（仅超级管理员端，管理员不需要按仓库过滤）

### Q2: 切换仓库后，为什么司机列表是空的？
**A**: 可能的原因：
1. 该仓库确实没有司机
2. 该仓库的司机都没有分配到这个仓库
3. 搜索关键词过滤掉了所有司机（清空搜索框试试）

### Q3: 搜索功能是否受仓库过滤影响？
**A**: 是的，搜索只在当前选中的仓库内进行。如果想搜索所有仓库的司机，需要：
1. 切换到不同的仓库分别搜索
2. 或者联系开发人员添加"全部仓库"选项

### Q4: 如何快速切换到某个仓库？
**A**: 有两种方式：
1. 左右滑动切换仓库（适合相邻仓库）
2. 点击底部指示点快速切换（适合跨越多个仓库）

### Q5: 仓库切换器的顺序是什么？
**A**: 仓库按照数据库中的顺序显示。未来可能会添加排序功能（如按司机数量或名称排序）。

## 技术支持

如有任何问题或建议，请联系技术支持团队。

## 更新日期

2025-11-05

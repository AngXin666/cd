# 创建租户功能测试指南

## 测试环境
- 浏览器: Chrome/Edge/Safari
- 账号: 中央管理系统管理员账号

## 测试步骤

### 1. 登录中央管理系统
1. 打开应用
2. 使用管理员账号登录
   - 账号: `admin`
   - 密码: `123456`

### 2. 进入创建租户页面
1. 点击"租户管理"标签
2. 点击"创建租户"按钮

### 3. 测试表单验证

#### 测试用例 3.1: 必填字段验证
1. 不填写任何字段，直接点击"创建租户"
2. **预期结果**: 提示"请输入公司名称"

#### 测试用例 3.2: 手机号格式验证
1. 填写公司名称: "测试公司"
2. 填写老板姓名: "张三"
3. 填写老板手机号: "123" (无效手机号)
4. 点击"创建租户"
5. **预期结果**: 提示"手机号格式不正确"

#### 测试用例 3.3: 登录账号格式验证
1. 填写公司名称: "测试公司"
2. 填写老板姓名: "张三"
3. 填写老板手机号: "13800138000"
4. 填写登录账号: "ab" (少于4位)
5. 点击"创建租户"
6. **预期结果**: 提示"登录账号格式不正确（4-20位字母、数字或下划线）"

#### 测试用例 3.4: 密码长度验证
1. 填写公司名称: "测试公司"
2. 填写老板姓名: "张三"
3. 填写老板手机号: "13800138000"
4. 填写登录账号: "zhangsan"
5. 填写登录密码: "123" (少于6位)
6. 点击"创建租户"
7. **预期结果**: 提示"密码至少6位"

#### 测试用例 3.5: 密码一致性验证
1. 填写公司名称: "测试公司"
2. 填写老板姓名: "张三"
3. 填写老板手机号: "13800138000"
4. 填写登录账号: "zhangsan"
5. 填写登录密码: "123456"
6. 填写确认密码: "123457" (不一致)
7. 点击"创建租户"
8. **预期结果**: 提示"两次输入的密码不一致"

### 4. 测试成功创建

#### 测试用例 4.1: 创建租户
1. 填写以下信息:
   - 公司名称: "测试公司001"
   - 联系人: "李四"
   - 联系电话: "13900139000"
   - 老板姓名: "张三"
   - 老板手机号: "13800138001"
   - 登录账号: "zhangsan001"
   - 登录密码: "123456"
   - 确认密码: "123456"
2. 点击"创建租户"
3. **预期结果**: 
   - 显示"创建中..."加载提示
   - 3-5秒后显示成功弹窗
   - 弹窗内容包含:
     ```
     租户"测试公司001"创建成功！
     
     登录账号：zhangsan001
     密码：123456
     手机号：13800138001
     
     请妥善保管账号信息。
     ```
   - 点击"确定"后返回租户列表
   - 租户列表中显示新创建的租户

### 5. 测试老板登录

#### 测试用例 5.1: 使用账号名登录
1. 退出当前账号
2. 在登录页面选择"密码登录"
3. 输入账号: "zhangsan001"
4. 输入密码: "123456"
5. 点击"登录"
6. **预期结果**: 
   - 显示"登录成功"提示
   - 跳转到老板工作台
   - 显示老板姓名"张三"

#### 测试用例 5.2: 使用手机号登录
1. 退出当前账号
2. 在登录页面选择"密码登录"
3. 输入账号: "13800138001"
4. 输入密码: "123456"
5. 点击"登录"
6. **预期结果**: 
   - 显示"登录成功"提示
   - 跳转到老板工作台
   - 显示老板姓名"张三"

#### 测试用例 5.3: 使用验证码登录
1. 退出当前账号
2. 在登录页面选择"验证码登录"
3. 输入手机号: "13800138001"
4. 点击"发送验证码"
5. 输入收到的验证码
6. 点击"登录"
7. **预期结果**: 
   - 显示"登录成功"提示
   - 跳转到老板工作台
   - 显示老板姓名"张三"

### 6. 测试错误情况

#### 测试用例 6.1: 账号名重复
1. 使用管理员账号登录
2. 尝试创建另一个租户，使用相同的登录账号 "zhangsan001"
3. **预期结果**: 提示创建失败，账号已存在

#### 测试用例 6.2: 手机号重复
1. 使用管理员账号登录
2. 尝试创建另一个租户，使用相同的手机号 "13800138001"
3. **预期结果**: 提示创建失败，手机号已被使用

#### 测试用例 6.3: 错误的密码
1. 退出当前账号
2. 在登录页面输入账号: "zhangsan001"
3. 输入错误的密码: "wrong_password"
4. 点击"登录"
5. **预期结果**: 提示"账号或密码错误"

## 测试检查清单

- [ ] 所有必填字段验证正常
- [ ] 手机号格式验证正常
- [ ] 登录账号格式验证正常
- [ ] 密码长度验证正常
- [ ] 密码一致性验证正常
- [ ] 成功创建租户
- [ ] 成功提示信息正确
- [ ] 使用账号名可以登录
- [ ] 使用手机号可以登录
- [ ] 使用验证码可以登录
- [ ] 账号名重复时提示错误
- [ ] 手机号重复时提示错误
- [ ] 错误密码时提示错误

## 注意事项

1. 测试前请确保数据库中没有使用相同账号名或手机号的用户
2. 如果测试失败，请检查浏览器控制台的错误信息
3. 验证码登录需要配置短信服务，如果未配置可能无法使用
4. 测试完成后可以在租户管理页面删除测试租户

## 常见问题

### Q1: 创建租户时提示"创建失败"
**A**: 检查以下几点:
- 账号名是否已被使用
- 手机号是否已被使用
- 网络连接是否正常
- 查看浏览器控制台的详细错误信息

### Q2: 登录时提示"账号或密码错误"
**A**: 检查以下几点:
- 账号名是否输入正确（区分大小写）
- 密码是否输入正确
- 该账号是否已成功创建

### Q3: 无法发送验证码
**A**: 验证码功能需要配置短信服务，如果未配置，请使用账号密码登录方式。

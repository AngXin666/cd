# 邮箱格式快速参考

## 当前状态 ✅

所有账号的邮箱格式已统一为 `@fleet.com`

## 邮箱格式规则

### 虚拟邮箱（无真实邮箱）
- 格式：`手机号@fleet.com`
- 示例：`13800000001@fleet.com`
- 用途：Supabase Auth 认证

### 真实邮箱（用户填写）
- 格式：用户填写的真实邮箱
- 示例：`user@163.com`
- 用途：认证 + 接收邮件通知

## 登录方式

### 使用手机号登录
```
账号：13800000001
密码：******
```
系统自动转换为：`13800000001@fleet.com`

### 使用邮箱登录
```
账号：user@163.com
密码：******
```
系统直接使用：`user@163.com`

## 数据统计

- ✅ `@fleet.com` 格式：13 个账号
- ✅ 真实邮箱：3 个账号
- ✅ `@phone.local` 格式：0 个账号（已全部更新）

## 相关文档

1. **EMAIL_FORMAT_UNIFICATION_COMPLETE.md** - 完整报告
2. **DATABASE_EMAIL_FORMAT_UPDATE.md** - 数据库更新详情
3. **FIX_LOGIN_EMAIL_FORMAT_MISMATCH.md** - 修复过程详解
4. **EMAIL_FORMAT_UNIFIED.md** - 简明总结

## 测试账号

### 虚拟邮箱账号
- 手机号：13300000001
- 邮箱：`13300000001@fleet.com`
- 登录：使用手机号或邮箱都可以

### 真实邮箱账号
- 邮箱：`13566666661@163.com`
- 登录：必须使用完整邮箱地址

## 常见问题

### Q: 为什么选择 @fleet.com？
A: 为了向后兼容老账号，老账号已经使用 `@fleet.com` 格式。

### Q: 真实邮箱会被更新吗？
A: 不会，只更新虚拟邮箱（`@phone.local` → `@fleet.com`）。

### Q: 老账号能正常登录吗？
A: 可以，所有账号都已更新为统一格式，可以正常登录。

### Q: 新创建的账号使用什么格式？
A: 如果不填写邮箱，使用 `手机号@fleet.com`；如果填写邮箱，使用用户填写的邮箱。

## 迁移文件

- `supabase/migrations/00145_update_email_format_to_fleet_com.sql`

## 提交记录

```
ac81d74 - 添加邮箱格式统一完成报告
531696f - 添加数据库邮箱格式批量更新详细文档
7b76d01 - 批量更新数据库中的邮箱格式为 @fleet.com
c7843d6 - 统一使用 @fleet.com 邮箱格式
```

---

**更新日期**：2025-11-25  
**状态**：✅ 已完成

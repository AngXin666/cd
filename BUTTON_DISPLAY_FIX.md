# 按钮显示逻辑修复说明

## 问题
超级管理员车辆管理页面中，当车辆审核通过后，所有操作按钮都被隐藏了。

## 原因
`shouldShowActionButtons()` 函数在审核通过且状态为 active 时返回 false，导致整个按钮组被隐藏。

## 修复
删除 `shouldShowActionButtons()` 函数，让按钮组始终显示，只通过各个按钮自己的条件来控制显示。

## 修复后的按钮显示逻辑

### 1. 查看详情按钮
- **显示条件**：始终显示
- **功能**：查看车辆详细信息

### 2. 查看司机按钮
- **显示条件**：当车辆有司机时显示（`vehicle.driver_id` 存在）
- **功能**：查看司机详细信息

### 3. 车辆审核按钮
- **显示条件**：只在以下审核状态时显示
  - `pending` - 待审核
  - `pending_review` - 待审核
  - `need_supplement` - 需要补充资料
  - `rejected` - 已拒绝
- **隐藏条件**：审核状态为 `approved`（已通过）时隐藏
- **功能**：进入车辆审核页面

### 4. 查看历史记录按钮
- **显示条件**：当该车牌号有多条记录时显示（记录数量 > 1）
- **功能**：查看该车牌号的所有历史记录

## 测试验证

### 场景1：审核通过的车辆
**车辆状态**：
- 审核状态：approved
- 车辆状态：active
- 有司机
- 有历史记录

**预期显示**：
- ✅ 查看详情
- ✅ 查看司机
- ❌ 车辆审核（隐藏）
- ✅ 查看历史记录

### 场景2：待审核的车辆
**车辆状态**：
- 审核状态：pending_review
- 有司机
- 无历史记录（首次录入）

**预期显示**：
- ✅ 查看详情
- ✅ 查看司机
- ✅ 车辆审核
- ❌ 查看历史记录（隐藏）

### 场景3：需要补充资料的车辆
**车辆状态**：
- 审核状态：need_supplement
- 有司机
- 有历史记录

**预期显示**：
- ✅ 查看详情
- ✅ 查看司机
- ✅ 车辆审核
- ✅ 查看历史记录

## 相关文件
- `src/pages/super-admin/vehicle-management/index.tsx` - 车辆管理页面

## 修改时间
2025-11-18

# 车辆租赁信息管理功能

## 功能概述
为超级管理员添加车辆租赁信息管理功能，方便管理多台车辆的租赁情况。司机端不显示任何租赁信息。

## 功能特性

### 1. 超级管理员端
#### 1.1 车辆管理页面 (`/pages/super-admin/vehicle-management/index.tsx`)
- ✅ 显示所有车辆的租赁信息
- ✅ 每个车辆卡片中显示租赁信息摘要
- ✅ 添加"编辑"按钮，可以快速编辑租赁信息

#### 1.2 租赁信息编辑页面 (`/pages/super-admin/vehicle-rental-edit/index.tsx`)
- ✅ 车辆归属类型（公司车/个人车）
- ✅ 租赁方信息（名称、联系方式）
- ✅ 承租方信息（名称、联系方式）
- ✅ 租赁期限（开始日期、结束日期）
- ✅ 租金信息（月租金、租金缴纳日）
- ✅ 表单验证（日期合法性、金额格式等）
- ✅ 保存成功后自动返回

### 2. 司机端
- ✅ 车辆列表页面不显示租赁信息
- ✅ 车辆详情页面不显示租赁信息
- ✅ 司机只能看到车辆的基本信息和状态

## 数据库字段

### vehicles 表中的租赁相关字段
```sql
-- 车辆归属类型
ownership_type: 'company' | 'personal' | null

-- 租赁方信息
lessor_name: string | null          -- 租赁方名称
lessor_contact: string | null       -- 租赁方联系方式

-- 承租方信息
lessee_name: string | null          -- 承租方名称
lessee_contact: string | null       -- 承租方联系方式

-- 租金信息
monthly_rent: number | null         -- 月租金（元）
lease_start_date: date | null       -- 租赁开始日期
lease_end_date: date | null         -- 租赁结束日期
rent_payment_day: number | null     -- 租金缴纳日（1-31）
```

## 使用流程

### 超级管理员编辑租赁信息
1. 登录超级管理员账号
2. 进入"车辆管理"页面
3. 找到需要编辑的车辆
4. 点击租赁信息卡片右上角的"编辑"按钮
5. 填写或修改租赁信息
6. 点击"保存租赁信息"按钮
7. 保存成功后自动返回车辆管理页面

### 租赁信息字段说明
- **车辆归属类型**：选择"公司车"或"个人车"
- **租赁方名称**：出租车辆的公司或个人名称
- **租赁方联系方式**：出租方的联系电话或其他联系方式
- **承租方名称**：租用车辆的公司或个人名称
- **承租方联系方式**：承租方的联系电话或其他联系方式
- **租赁开始日期**：租赁合同的开始日期
- **租赁结束日期**：租赁合同的结束日期
- **月租金**：每月需要支付的租金金额（元）
- **租金缴纳日**：每月的哪一天缴纳租金（1-31号）

## 权限控制
- ✅ 只有超级管理员可以查看和编辑租赁信息
- ✅ 司机端完全不显示租赁信息
- ✅ 普通管理员端不显示租赁信息（如果有的话）

## 界面设计
- 使用橙黄色系（amber/orange）作为租赁信息的主题色
- 租赁信息卡片使用渐变背景和边框，突出显示
- 编辑按钮使用圆角设计，放置在卡片右上角
- 编辑页面使用蓝色渐变背景，保持与整体设计风格一致

## 技术实现
- 使用 Taro 框架开发
- 使用 TypeScript 确保类型安全
- 使用 Supabase 作为后端数据库
- 使用 Tailwind CSS 进行样式设计
- 表单验证确保数据完整性和合法性

## 测试建议
1. 测试超级管理员可以正常编辑租赁信息
2. 测试司机端不显示租赁信息
3. 测试表单验证（日期、金额等）
4. 测试保存成功后的返回逻辑
5. 测试数据持久化（刷新页面后数据仍然存在）
